<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width"><link rel=icon type=image/ico href=https://blog.yzyy.de/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://blog.yzyy.de/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://blog.yzyy.de/favicon-32x32.png><link rel=icon type=image/png sizes=192x192 href=https://blog.yzyy.de/android-chrome-192x192.png><link rel=apple-touch-icon sizes=180x180 href=https://blog.yzyy.de/apple-touch-icon.png><meta name=description content="An LSM Tree overview and Java implementation."><title>æ–°è´­ä¸€å°8GBçš„VDSä¸æ¬å®¶ | G-Hungçš„åšå®¢</title><link rel=canonical href=https://blog.yzyy.de/post/%E6%96%B0%E8%B4%AD%E4%B8%80%E5%8F%B08gb%E7%9A%84vds/><meta property="og:url" content="https://blog.yzyy.de/post/%E6%96%B0%E8%B4%AD%E4%B8%80%E5%8F%B08gb%E7%9A%84vds/"><meta property="og:site_name" content="G-Hungçš„åšå®¢"><meta property="og:title" content="æ–°è´­ä¸€å°8GBçš„VDSä¸æ¬å®¶"><meta property="og:description" content="An LSM Tree overview and Java implementation."><meta property="og:locale" content="zh_cn"><meta property="og:type" content="article"><meta property="article:section" content="post"><meta property="article:published_time" content="2025-07-17T00:00:00+00:00"><meta property="article:modified_time" content="2025-07-17T00:00:00+00:00"><meta property="article:tag" content="ç”Ÿæ´»"><meta property="article:tag" content="æœåŠ¡å™¨"><link rel=stylesheet href=/assets/combined.min.b72766531fc58b8c9eb741223d816b1c10ab962791e1d50d5f6fcb81345cde80.css media=all><script async src="https://www.googletagmanager.com/gtag/js?id=G-88BLW4V0HZ"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-88BLW4V0HZ")}</script></head><body class=auto><div class=content><header><div class=header><h1 class=header-title><a href=https://blog.yzyy.de/>G-Hungçš„åšå®¢</a></h1><div class=header-menu><p class=small><a href=/>/home</a></p><p class=small><a href=/post>/æ—¥å¸¸</a></p><p class=small><a href=/explore>/æ¢ç´¢è®°å½•</a></p><p class=small><a href=/tags>/tags</a></p><a href=/index.xml target=_blank title=RSS class=rss-icon><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></div></div></header><main class=main><div class=breadcrumbs><a href=/>Home</a><span class=breadcrumbs-separator>/</span><a href=/post/>Posts</a><span class=breadcrumbs-separator>/</span>
<a href=/post/%E6%96%B0%E8%B4%AD%E4%B8%80%E5%8F%B08gb%E7%9A%84vds/>æ–°è´­ä¸€å°8GBçš„VDSä¸æ¬å®¶</a></div><div class=autonumber><article><header class=single-intro-container><h1 class=single-title>æ–°è´­ä¸€å°8GBçš„VDSä¸æ¬å®¶</h1><p class=single-summary>An LSM Tree overview and Java implementation.</p><div class=single-subsummary><img src=/avatar.jpg alt="Author Avatar"><div><p class=author>ghung</p><p class=single-date><time datetime=2025-07-17T00:00:00+00:00>2025 Jul 17</time>
&nbsp; Â· &nbsp;2 min read</p></div></div></header><div class=single-tags><span><a href=https://blog.yzyy.de/tags/%E7%94%9F%E6%B4%BB/>#ç”Ÿæ´»</a>
</span><span><a href=https://blog.yzyy.de/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/>#æœåŠ¡å™¨</a></span></div><aside class=toc><p><strong>Table of contents</strong></p><nav id=TableOfContents><ul><li><a href=#å®‰å…¨>å®‰å…¨</a></li><li><a href=#å®‰è£…docker>å®‰è£…docker</a></li><li><a href=#sslè¯ä¹¦>SSLè¯ä¹¦</a><ul><li><a href=#è‡ªåŠ¨ç»­ç­¾æ”¹è¿›åçš„æ–¹æ¡ˆ>è‡ªåŠ¨ç»­ç­¾æ”¹è¿›åçš„æ–¹æ¡ˆ</a></li></ul></li><li><a href=#è¿ç§»æœåŠ¡>è¿ç§»æœåŠ¡</a><ul><li><a href=#openwebui--newapi>OpenWebUI + NewAPI</a></li></ul></li></ul></nav></aside><div class=single-content><p>åœ¨7æœˆ8æ—¥ï¼Œäººç§°â€œå°é˜¿é‡Œâ€çš„äº‘æœåŠ¡å™¨æä¾›å•†ã€ŒClawCloudã€å®£å¸ƒä¸‹çº¿æ”¯æŒä¸­å›½ä¼˜åŒ–çº¿è·¯çš„é¦™æ¸¯æœåŠ¡å™¨ã€‚è¿™ä¸ªå…¬å‘Šä¸­è¿˜æåˆ°äº†ä¸‰ä¸ªèµ”å¿æ–¹æ¡ˆï¼Œå…¶ä¸­ä¸¤ä¸ªä¸ºä¸åŒçš„é€€æ¬¾æ–¹æ¡ˆï¼Œè¿™é‡Œé‡ç‚¹å…³æ³¨æ–¹æ¡ˆäºŒï¼šå¯ä»¥å…è´¹è¿ç§»åˆ°æ–°åŠ å¡æˆ–æ—¥æœ¬èŠ‚ç‚¹ï¼Œå¹¶ä¸”**åŸæœ¬æœºå™¨çš„å†…å­˜å®¹é‡è¿˜ä¼šç›´æ¥ç¿»å€ã€‚</p><p>è¿™å°±å¯¼è‡´äº†å¸‚åœºä¸Šå‡ºç°äº†2æ ¸8GBçš„çº¿è·¯è‰¯å¥½çš„æ–°åŠ å¡\æ—¥æœ¬æœºå™¨ï¼Œå¹¶ä¸”ä»·æ ¼ä¸º4$/mï¼Œæœ‰æ²¡æœ‰å¾ˆå¿ƒåŠ¨ï¼Œæˆ‘åæ­£æ˜¯å¿ƒåŠ¨äº†ã€‚</p><p>å›æƒ³èµ·é‚£å¤œè¿œç¨‹å¼€å‘ä½¿ç”¨claude codeå†…å­˜çˆ†ç‚¸ï¼Œç‹¼ç‹ˆé‡å¯ã€‚é‚£å¤œä¸ºäº†å®‰è£…OpenWebUIï¼Œä¸€å£æ°”å¼€äº†2gçš„swapã€‚ç•ç•ç¼©ç¼©ä¸æ•¢ä½¿ç”¨åŠ¨æ€åšå®¢ã€ä¸æ•¢ä½¿ç”¨1panelç­‰è¿ç»´é¢æ¿ã€‚æ€•äº†çœŸæ€•äº†ï¼ŒğŸ˜­ç‹¼ç‹ˆçš„æˆ‘å«æ³ªæº¢ä»·ä¸€ç™¾å—æ”¶ä¸‹ä¸€å°æœºå™¨ï¼Œåªå¸Œæœ›èƒ½ç”¨çš„é•¿ä¹…å§ã€‚</p><p>ä»¥ä¸‹è®°å½•ä¸€ä¸‹æˆ‘æ‹¿åˆ°ä¸€å°æ–°æœºå™¨ä¼šåšä»€ä¹ˆä»¥åŠè¿ç§»è¿‡ç¨‹ã€‚</p><hr><h2 class=heading id=å®‰å…¨>å®‰å…¨
<a class=anchor href=#%e5%ae%89%e5%85%a8>#</a></h2><p>æœ€é‡è¦çš„å½“ç„¶æ˜¯å®‰å…¨ï¼Œä¹‹å‰å·²ç»ç»™å‡ºäº†æœåŠ¡å™¨çš„å®‰å…¨è®ºï¼Œè¯·çœ‹<a href=/explore/%E6%9C%8D%E5%8A%A1%E5%99%A8/vps%E5%9F%BA%E6%9C%AC%E5%AE%89%E5%85%A8%E6%8E%AA%E6%96%BD/>VPSåŸºç¡€å®‰å…¨é…ç½®å®è·µæŒ‡å—</a>ã€‚</p><h2 class=heading id=å®‰è£…docker>å®‰è£…docker
<a class=anchor href=#%e5%ae%89%e8%a3%85docker>#</a></h2><p>å› ä¸ºå¤šæ•°æœåŠ¡æ˜¯è¿è¡Œåœ¨dockerä¸Šçš„ï¼Œå®‰è£…docker & docker composeæ˜¯å¿…ä¸å¯å°‘çš„ã€‚</p><h2 class=heading id=sslè¯ä¹¦>SSLè¯ä¹¦
<a class=anchor href=#ssl%e8%af%81%e4%b9%a6>#</a></h2><p>ä¸æ˜¯ç®€å•åœ°è¿ç§»å·²æœ‰è¯ä¹¦å°±è¡Œäº†ï¼Œè¿˜è¦è¿ç§»é…ç½®å¥½çš„è‡ªåŠ¨ç»­ç­¾æœåŠ¡ï¼Œç»è¿‡æŸ¥çœ‹åœ¨ä¸€å°æœºå™¨ä¸Šæœ‰å››ä¸ªåŸŸåçš„è‡ªåŠ¨ç»­ç­¾æœåŠ¡ï¼Œä½†æ˜¯æˆ‘å‡†å¤‡ç˜¦èº«ä¸€ä¸‹ï¼Œæœ‰äº›åŸŸåå¿«åˆ°æœŸäº†ã€‚<figure><div class=img-container><img loading=lazy alt src=https://webp.050612.xyz/2025/07/certificates.png></div></figure></p><h3 class=heading id=è‡ªåŠ¨ç»­ç­¾æ”¹è¿›åçš„æ–¹æ¡ˆ>è‡ªåŠ¨ç»­ç­¾æ”¹è¿›åçš„æ–¹æ¡ˆ
<a class=anchor href=#%e8%87%aa%e5%8a%a8%e7%bb%ad%e7%ad%be%e6%94%b9%e8%bf%9b%e5%90%8e%e7%9a%84%e6%96%b9%e6%a1%88>#</a></h3><p>å‘ç°ä¹‹å‰çš„å¤šä¸ªåŸŸåçš„è‡ªåŠ¨ç»­ç­¾ç®¡ç†ååˆ†ç¹çï¼Œä¸AIäº¤æµåè·å¾—äº†ä¸€ä¸ªæ›´ä¸ºç®€æ´çš„å¯è¡Œçš„æ–¹æ¡ˆï¼Œç®€åŒ–äº†æ“ä½œä¸é…ç½®ã€‚</p><h4 class=heading id=cloudflare-api>Cloudflare API
<a class=anchor href=#cloudflare-api>#</a></h4><p>ä½¿ç”¨ Cloudflare DNS æ¨¡å¼éœ€è¦å‡†å¤‡:</p><ul><li>Account ID</li><li>API Token</li></ul><h5 class=heading id=è·å–-account-id>è·å– Account ID
<a class=anchor href=#%e8%8e%b7%e5%8f%96-account-id>#</a></h5><p>è¿™ä¸¤ç§ ID ç›´æ¥åœ¨ Overview é¡µå°±èƒ½æ‰¾åˆ°ã€‚</p><p><figure><div class=img-container><img loading=lazy alt=cloudflare_account_id src=https://webp.050612.xyz/2025/07/cloudflare_account_id.png></div></figure></p><h5 class=heading id=è·å–-api-token>è·å– API Token
<a class=anchor href=#%e8%8e%b7%e5%8f%96-api-token>#</a></h5><p>Overview é¡µç‚¹å‡» <code>è·å–æ‚¨çš„ API ä»¤ç‰Œ</code> è¿›å…¥ API Tokens é¡µã€‚</p><p>ç‚¹å‡» API Tokens é¡¹æ—è¾¹ <code>åˆ›å»ºä»¤ç‰Œ</code> æŒ‰é’®ï¼Œæ¥ç€é€‰æ‹© <code>ç¼–è¾‘åŒºåŸŸ DNS</code> çš„æ¨¡æ¿ï¼Œç‚¹å‡» <code>ä½¿ç”¨æ¨¡æ¿</code>ã€‚</p><p><figure><div class=img-container><img loading=lazy alt=image src=https://webp.050612.xyz/2025/02/e15d8a0a1de821faab5355e610b581016975b974_2_690x265.png></div></figure></p><p><figure><div class=img-container><img loading=lazy alt=image src=https://webp.050612.xyz/2025/02/42f87595d27a6fb3ed1fe329934517f5416920c6_2_690x210.png></div></figure></p><p><code>åŒºåŸŸèµ„æº</code> é‡Œé€‰æ‹©éœ€è¦ç­¾å‘çš„åŸŸåï¼Œå¤šä¸ªåŸŸåé€‰æ‹©å¤šä¸ªã€‚ä¸å»ºè®®é€‰æ‹©å…¨éƒ¨çš„åŸŸåï¼Œ**æœ€å°æƒé™åŸåˆ™ã€‚</p><p>åœ¨ <code>å®¢æˆ·ç«¯ IP åœ°å€ç­›é€‰</code> é‡Œå»ºè®®å†™ä¸‹ acme.sh æ‰€åœ¨çš„ä¸»æœºåšä¸ºç™½åå•ï¼Œéœ€è¦æ³¨æ„ï¼Œå¦‚æœæœåŠ¡å™¨æœ‰ ipv6 åœ°å€ï¼Œåˆ™ä¹Ÿéœ€è¦æ·»åŠ ï¼Œå› ä¸ºæœ‰å¯èƒ½ä¼š ipv6 ä¼˜å…ˆè®¿é—®ã€‚</p><p>å‡» <code>ç»§ç»­ä»¥æ˜¾ç¤ºæ‘˜è¦</code> , ç¡®è®¤æ²¡é—®é¢˜åæœ€åç‚¹å‡» <code>åˆ›å»ºä»¤ç‰Œ</code>ã€‚</p><p><figure><div class=img-container><img loading=lazy alt=image src=https://webp.050612.xyz/2025/02/e88966d6049c27c31c632f9471ec1b79be287b59_2_510x499.png></div></figure></p><p>æ­¤æ—¶å°±ä¼šå‡ºç°ä¸€ä¸ª Token,ï¼Œå³ CF_Tokenï¼Œæ‹·è´å¤‡ç”¨ã€‚</p><p><figure><div class=img-container><img loading=lazy alt=image src=https://webp.050612.xyz/2025/02/ca6093ea6bf83325809ea6179d4239ae2c9818cc_2_690x404.png></div></figure></p><h5 class=heading id=æ³¨æ„>æ³¨æ„
<a class=anchor href=#%e6%b3%a8%e6%84%8f>#</a></h5><ul><li><strong>æ³¨æ„æ–°å¢åŸŸåæ—¶ï¼Œéœ€è¦æ›´æ”¹API Tokenæ‰€åŒ…å«çš„åŸŸå</strong></li><li><strong>æ³¨æ„æœ‰å¤šå°æœºå™¨æ—¶ï¼Œéœ€è¦æ–°å¢æœºå™¨çš„IPåˆ°ç™½åå•</strong>ã€‚</li></ul><p><figure><div class=img-container><img loading=lazy alt=update_cf_api_token src=https://webp.050612.xyz/2025/02/update_cf_api_token.png></div></figure><figure><div class=img-container><img loading=lazy alt=cf-api-token-ip src=https://webp.050612.xyz/2025/02/cf-api-token-ip.png></div></figure></p><h4 class=heading id=ä¸€ä¸ªå®Œæ•´çš„æ¼”ç¤º>ä¸€ä¸ªå®Œæ•´çš„æ¼”ç¤º
<a class=anchor href=#%e4%b8%80%e4%b8%aa%e5%ae%8c%e6%95%b4%e7%9a%84%e6%bc%94%e7%a4%ba>#</a></h4><p>è·å–åˆ°äº†ä»¥ä¸Šä¸¤ä¸ªtokenå³å¯å¼€å§‹æ“ä½œã€‚</p><p>ä¸ºäº†ä½¿æ•´ä¸ªæµç¨‹æ›´åŠ æ¸…æ™°ï¼ˆ<del>æ–¹ä¾¿è‡ªå·±æ“ä½œ</del>ï¼‰ï¼Œè¿™é‡Œè´´ä¸€ä¸ªè‡ªå·±å¹³æ—¶ä½¿ç”¨ acme.sh ç”³è¯·è¯ä¹¦çš„å®Œæ•´æµç¨‹ã€‚</p><ul><li>ç”³è¯·æ–¹å¼ï¼šDNS è®¤è¯ï¼ˆä½¿ç”¨ Cloudflare APIï¼‰</li><li>ç”³è¯·è¯ä¹¦ CAï¼šLetâ€™s Encrypt</li><li>ç”³è¯·è¯ä¹¦ç±»å‹ï¼šRSA + ECC ä¸¤ä¸ªé€šé…ç¬¦è¯ä¹¦</li></ul><p>åç»­ç”³è¯·è¯ä¹¦çš„å‘½ä»¤ï¼Œéƒ½æ˜¯åœ¨ root ç”¨æˆ·ä¸‹æ‰§è¡Œçš„ï¼Œè¯·å…ˆä½¿ç”¨ <code>su</code> åˆ‡æ¢åˆ° root ç”¨æˆ·ã€‚</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#888;font-style:italic># è¿›å…¥rootç”¨æˆ·</span>
</span></span><span style=display:flex><span>su
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#888;font-style:italic># å®‰è£… acme.sh</span>
</span></span><span style=display:flex><span>curl  https://get.acme.sh | sh
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#888;font-style:italic># åˆ·æ–° shell å˜é‡é…ç½®</span>
</span></span><span style=display:flex><span><span style=font-weight:700;font-style:italic>source</span> ~/.bashrc
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#888;font-style:italic># å¯¼å…¥ Cloudflare API Token</span>
</span></span><span style=display:flex><span><span style=font-weight:700;font-style:italic>export</span> <span style=color:#666;font-weight:700;font-style:italic>CF_Token</span>=<span style=color:#666;font-style:italic>&#34;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&#34;</span>
</span></span><span style=display:flex><span><span style=font-weight:700;font-style:italic>export</span> <span style=color:#666;font-weight:700;font-style:italic>CF_Account_ID</span>=<span style=color:#666;font-style:italic>&#34;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#888;font-style:italic># è®¾ç½®é»˜è®¤ CA ä¸º Let&#39;s Encrypt</span>
</span></span><span style=display:flex><span>acme.sh --set-default-ca --server letsencrypt
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#888;font-style:italic># ç­¾å‘ RSA è¯ä¹¦</span>
</span></span><span style=display:flex><span>acme.sh --issue --dns dns_cf -d xxx.xyz -d *.xxx.xyz --keylength 2048
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#888;font-style:italic># å®‰è£… RSA è¯ä¹¦åˆ°æŒ‡å®šè·¯å¾„</span>
</span></span><span style=display:flex><span>acme.sh --install-cert -d domain.tld <span style=color:#666;font-style:italic>\
</span></span></span><span style=display:flex><span><span style=color:#666;font-style:italic></span>--key-file       /path/to/ssl/domain.tld_private.key  <span style=color:#666;font-style:italic>\
</span></span></span><span style=display:flex><span><span style=color:#666;font-style:italic></span>--fullchain-file /path/to/ssl/domain.tld_chain.pem <span style=color:#666;font-style:italic>\
</span></span></span><span style=display:flex><span><span style=color:#666;font-style:italic></span>--reloadcmd      <span style=color:#666;font-style:italic>&#34;service nginx reload&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#888;font-style:italic># ç­¾å‘ ECC è¯ä¹¦ï¼Œè‹¥ä¸éœ€è¦ï¼Œè·³è¿‡å³å¯</span>
</span></span><span style=display:flex><span>acme.sh --issue --dns dns_cf -d domain.tld -d *.domain.tld --keylength ec-256
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#888;font-style:italic># å®‰è£… ECC è¯ä¹¦åˆ°æŒ‡å®šè·¯å¾„</span>
</span></span><span style=display:flex><span>acme.sh --install-cert -d domain.tld --ecc <span style=color:#666;font-style:italic>\
</span></span></span><span style=display:flex><span><span style=color:#666;font-style:italic></span>--key-file       /path/to/ssl/ecc_domain.tld_private.key  <span style=color:#666;font-style:italic>\
</span></span></span><span style=display:flex><span><span style=color:#666;font-style:italic></span>--fullchain-file /path/to/ssl/ecc_domain.tld_chain.pem <span style=color:#666;font-style:italic>\
</span></span></span><span style=display:flex><span><span style=color:#666;font-style:italic></span>--capath         /path/to/ssl/ecc_domain.tld_ca.pem  <span style=color:#666;font-style:italic>\
</span></span></span><span style=display:flex><span><span style=color:#666;font-style:italic></span>--reloadcmd      <span style=color:#666;font-style:italic>&#34;service nginx reload&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#888;font-style:italic># è‡³æ­¤è¯ä¹¦å®‰è£…å®Œæ¯•</span>
</span></span><span style=display:flex><span><span style=color:#888;font-style:italic># ä¸‹é¢æ˜¯åŒä¸€å°ä¸»æœºç”³è¯·ç¬¬äºŒä¸ªåŸŸåè¯ä¹¦</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#888;font-style:italic>###############################ç¬¬äºŒä¸ªåŸŸå#####################################################################</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#888;font-style:italic># ç­¾å‘ RSA è¯ä¹¦</span>
</span></span><span style=display:flex><span>acme.sh --issue --dns dns_cf -d xxx.xyz -d *.xxx.xyz --keylength 2048
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#888;font-style:italic># å®‰è£… RSA è¯ä¹¦åˆ°æŒ‡å®šè·¯å¾„</span>
</span></span><span style=display:flex><span>acme.sh --config-home /root/.acme2 <span style=color:#666;font-style:italic>\
</span></span></span><span style=display:flex><span><span style=color:#666;font-style:italic></span>--install-cert -d domain.tld <span style=color:#666;font-style:italic>\
</span></span></span><span style=display:flex><span><span style=color:#666;font-style:italic></span>--key-file       /path/to/ssl/domain.tld_private.key  <span style=color:#666;font-style:italic>\
</span></span></span><span style=display:flex><span><span style=color:#666;font-style:italic></span>--fullchain-file /path/to/ssl/domain.tld_chain.pem <span style=color:#666;font-style:italic>\
</span></span></span><span style=display:flex><span><span style=color:#666;font-style:italic></span>--reloadcmd      <span style=color:#666;font-style:italic>&#34;service nginx reload&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#888;font-style:italic># ç­¾å‘ ECC è¯ä¹¦ï¼Œè‹¥ä¸éœ€è¦ï¼Œè·³è¿‡å³å¯</span>
</span></span><span style=display:flex><span>acme.sh --config-home /root/.acme2 --issue --dns dns_cf -d domain.tld -d *.domain.tld --keylength ec-256
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#888;font-style:italic># å®‰è£… ECC è¯ä¹¦åˆ°æŒ‡å®šè·¯å¾„</span>
</span></span><span style=display:flex><span>acme.sh --config-home /root/.acme2 <span style=color:#666;font-style:italic>\
</span></span></span><span style=display:flex><span><span style=color:#666;font-style:italic></span>--install-cert -d domain.tld --ecc <span style=color:#666;font-style:italic>\
</span></span></span><span style=display:flex><span><span style=color:#666;font-style:italic></span>--key-file       /path/to/ssl/ecc_domain.tld_private.key  <span style=color:#666;font-style:italic>\
</span></span></span><span style=display:flex><span><span style=color:#666;font-style:italic></span>--fullchain-file /path/to/ssl/ecc_domain.tld_chain.pem <span style=color:#666;font-style:italic>\
</span></span></span><span style=display:flex><span><span style=color:#666;font-style:italic></span>--capath         /path/to/ssl/ecc_domain.tld_ca.pem  <span style=color:#666;font-style:italic>\
</span></span></span><span style=display:flex><span><span style=color:#666;font-style:italic></span>--reloadcmd      <span style=color:#666;font-style:italic>&#34;service nginx reload&#34;</span>
</span></span></code></pre></div><p>æ£€æŸ¥cronå®šæ—¶ä»»åŠ¡æ˜¯å¦å·²ç»æˆåŠŸåˆ›å»º</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>crontab -l
</span></span></code></pre></div><p>å¦‚æœæœ‰ä¸¤ä¸ªä»¥ä¸Šçš„åŸŸåæˆ–è€…æ–°å¢åŸŸåï¼Œ
åªéœ€è¦ï¼š</p><ol><li>åœ¨Cloudflareçš„ã€ŒAPI Tokenã€ç®¡ç†ä¸­ï¼Œæ–°å¢API Tokenæ‰€åŒ…å«çš„åŸŸå</li><li>ç­¾å‘æ–°åŸŸåçš„è¯ä¹¦å¹¶å®‰è£…åˆ°æŒ‡å®šä½ç½®</li></ol><p>acme.shä¼šæ£€æŸ¥æ‰€ç®¡ç†çš„æ‰€æœ‰åŸŸåçš„è¯ä¹¦çš„åˆ°æœŸæ—¶é—´ï¼Œå¦‚æœéœ€è¦ç»­ç­¾ï¼Œåˆ™ä¼šæ‰§è¡Œç»­ç­¾æ“ä½œå¹¶å®‰è£…å¯¼è‡´è®¢ä½ç½®ï¼Œå®ç°è¯ä¹¦çš„è‡ªåŠ¨ç»­ç­¾ã€‚ä¸€åŠ³æ°¸é€¸çš„æ“ä½œã€‚</p><h2 class=heading id=è¿ç§»æœåŠ¡>è¿ç§»æœåŠ¡
<a class=anchor href=#%e8%bf%81%e7%a7%bb%e6%9c%8d%e5%8a%a1>#</a></h2><p>åˆ°äº†æœ€å¤æ‚çš„ä¸€ä¸ªç¯èŠ‚äº†ï¼Œå³ä½¿è¿è¡Œåœ¨dockerçš„æœåŠ¡ï¼Œæ¯ä¸ªä¹Ÿè¦è¿ç§»volumesã€nginxé…ç½®ï¼Œå¼€å¹²ï¼ğŸ’ªæ­£å¥½å‡‘è¿™ä¸ªæœºä¼šç»Ÿè®¡ä¸€ä¸‹æˆ‘è¿è¡Œäº†å“ªäº›æœåŠ¡ã€‚</p><h3 class=heading id=openwebui--newapi>OpenWebUI + NewAPI
<a class=anchor href=#openwebui--newapi>#</a></h3><ol><li>æ‰“åŒ…æŒä¹…åŒ–æ•°æ®ï¼Œå…¶ä¸­NewAPIçš„MySQLä½¿ç”¨äº†Dockerçš„å‘½åå·</li></ol><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#888;font-style:italic>######## æ‰“åŒ…OpenWebUIå’ŒNewAPIçš„æŒä¹…åŒ–æ•°æ®</span>
</span></span><span style=display:flex><span>tar -czvf data.tar.gz ./openwebui ./newapi
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#888;font-style:italic>######## æ‰“åŒ…newapi MySQLæ•°æ®å· ###########</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#888;font-style:italic># æŸ¥æ‰¾å·çš„ç‰©ç†è·¯å¾„</span>
</span></span><span style=display:flex><span>docker volume inspect [é¡¹ç›®å]_mysql_data
</span></span><span style=display:flex><span><span style=color:#888;font-style:italic># åœ¨è¾“å‡ºä¸­æ‰¾åˆ° &#34;Mountpoint&#34;: &#34;/var/lib/docker/volumes/[é¡¹ç›®å]_mysql_data/_data&#34;</span>
</span></span><span style=display:flex><span>sudo tar -czvf ~/mysql_volume.tar.gz /var/lib/docker/volumes/[é¡¹ç›®å]_mysql_data/_data
</span></span></code></pre></div><ol start=2><li>ä½¿ç”¨SFTPåŠŸèƒ½ä¼ è¾“åˆ°æ–°æœºå™¨</li><li>åœ¨æ–°æœºå™¨ä¸Šè§£å‹</li></ol><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-BASH data-lang=BASH><span style=display:flex><span><span style=color:#888;font-style:italic>######## è§£å‹OpenWebUIå’ŒNewAPIçš„æŒä¹…åŒ–æ•°æ®</span>
</span></span><span style=display:flex><span>sudo tar -xzvf data.tar.gz -C ./
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#888;font-style:italic>######## è§£å‹newapi MySQLæ•°æ®å· ###########</span>
</span></span><span style=display:flex><span><span style=color:#888;font-style:italic># æ‰‹åŠ¨åˆ›å»ºç›®å½•</span>
</span></span><span style=display:flex><span>sudo mkdir -p /var/lib/docker/volumes/[é¡¹ç›®å]_mysql_data/_data
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#888;font-style:italic># è§£å‹æ–‡ä»¶</span>
</span></span><span style=display:flex><span>sudo tar -xzvf ~/mysql_volume.tar.gz -C /var/lib/docker/volumes/[é¡¹ç›®å]_mysql_data/_data
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#888;font-style:italic># ä¿®å¤æ–‡ä»¶æƒé™</span>
</span></span><span style=display:flex><span>sudo chown -R 999:999 /var/lib/docker/volumes/[é¡¹ç›®å]_mysql_data/_data
</span></span></code></pre></div><ol start=4><li>é…ç½®nginx</li></ol><p>ç›´æ¥æŠŠæ—§æœºå™¨ä¸Šçš„nginxæ‰“åŒ…ä¸Šä¼ åˆ°æ–°æœºä¸Šï¼Œæ“ä½œåªéœ€è¦å»ºç«‹site-availableä¸site-enableçš„è½¯è¿æ¥</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo ln -s /etc/nginx/sites-available/api.vtofun.me /etc/nginx/sites-enabled/api.vtofun.me
</span></span></code></pre></div><blockquote><p>ç»·ä¸ä½äº†ï¼Œç¬¬ä¸€æ¬¡æ¬å®¶ååˆ†ä¹ƒè‡³ä¸‡åˆ†ä¸é¡ºåˆ©ï¼Œä»ä¸ƒç‚¹æ¬åˆ°åä¸€ç‚¹åŠè¿˜æ²¡æ¬å®Œã€‚æ¬å®¶å¤ªç´¯äº†ğŸ˜­</p></blockquote></div></article><div class=single-comments><script src=https://giscus.app/client.js data-repo=eaiu/eaiu.github.io data-repo-id=R_kgDOPMv-Yw data-category data-category-id=DIC_kwDOPMv-Y84CtAeO data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=preferred_color_scheme data-lang=en data-loading=lazy crossorigin=anonymous async></script></div><div class=single-pagination><hr><div class=flexnowrap><div class=single-pagination-prev><div class=single-pagination-container-prev><div class=single-pagination-text>â†</div><div class=single-pagination-text><a href=/post/%E8%AE%BA%E5%9C%A8%E7%BD%91%E5%90%A7%E7%99%BB%E5%BD%95-steam-%E7%9A%84%E6%AD%A3%E7%A1%AE%E5%A7%BF%E5%8A%BF/>è®ºåœ¨ç½‘å§ç™»å½• Steam çš„æ­£ç¡®å§¿åŠ¿</a></div></div></div><div class=single-pagination-next></div></div><hr></div><div class=back-to-top><a href=#top>back to top</a></div></div></main></div><footer><p>All content licensed under <a href=https://creativecommons.org/licenses/by-sa/4.0/>CC BY-SA 4.0</a> unless otherwise stated. Copyright Â© 2025 ghung<br>Powered by <a href=https://gohugo.io/>Hugo</a> and <a href=https://github.com/tomfran/typo>tomfran/typo</a></p></footer><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js onload=renderMathInElement(document.body)></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}]})})</script></body><script src=/js/theme-switch.js></script><script defer src=/js/copy-code.js></script></html>