<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>ç”Ÿæ´» on G-Hungçš„åšå®¢</title><link>https://blog.yzyy.de/tags/%E7%94%9F%E6%B4%BB/</link><description>Recent content in ç”Ÿæ´» on G-Hungçš„åšå®¢</description><generator>Hugo</generator><language>zh-cn</language><lastBuildDate>Thu, 17 Jul 2025 00:00:00 +0000</lastBuildDate><atom:link href="https://blog.yzyy.de/tags/%E7%94%9F%E6%B4%BB/index.xml" rel="self" type="application/rss+xml"/><item><title>æ–°è´­ä¸€å°8GBçš„VDSä¸æ¬å®¶</title><link>https://blog.yzyy.de/post/%E6%96%B0%E8%B4%AD%E4%B8%80%E5%8F%B08gb%E7%9A%84vds/</link><pubDate>Thu, 17 Jul 2025 00:00:00 +0000</pubDate><guid>https://blog.yzyy.de/post/%E6%96%B0%E8%B4%AD%E4%B8%80%E5%8F%B08gb%E7%9A%84vds/</guid><description>&lt;p&gt;åœ¨7æœˆ8æ—¥ï¼Œäººç§°â€œå°é˜¿é‡Œâ€çš„äº‘æœåŠ¡å™¨æä¾›å•†ã€ŒClawCloudã€å®£å¸ƒä¸‹çº¿æ”¯æŒä¸­å›½ä¼˜åŒ–çº¿è·¯çš„é¦™æ¸¯æœåŠ¡å™¨ã€‚è¿™ä¸ªå…¬å‘Šä¸­è¿˜æåˆ°äº†ä¸‰ä¸ªèµ”å¿æ–¹æ¡ˆï¼Œå…¶ä¸­ä¸¤ä¸ªä¸ºä¸åŒçš„é€€æ¬¾æ–¹æ¡ˆï¼Œè¿™é‡Œé‡ç‚¹å…³æ³¨æ–¹æ¡ˆäºŒï¼šå¯ä»¥å…è´¹è¿ç§»åˆ°æ–°åŠ å¡æˆ–æ—¥æœ¬èŠ‚ç‚¹ï¼Œå¹¶ä¸”**åŸæœ¬æœºå™¨çš„å†…å­˜å®¹é‡è¿˜ä¼šç›´æ¥ç¿»å€ã€‚&lt;/p&gt;
&lt;p&gt;è¿™å°±å¯¼è‡´äº†å¸‚åœºä¸Šå‡ºç°äº†2æ ¸8GBçš„çº¿è·¯è‰¯å¥½çš„æ–°åŠ å¡\æ—¥æœ¬æœºå™¨ï¼Œå¹¶ä¸”ä»·æ ¼ä¸º4$/mï¼Œæœ‰æ²¡æœ‰å¾ˆå¿ƒåŠ¨ï¼Œæˆ‘åæ­£æ˜¯å¿ƒåŠ¨äº†ã€‚&lt;/p&gt;
&lt;p&gt;å›æƒ³èµ·é‚£å¤œè¿œç¨‹å¼€å‘ä½¿ç”¨claude codeå†…å­˜çˆ†ç‚¸ï¼Œç‹¼ç‹ˆé‡å¯ã€‚é‚£å¤œä¸ºäº†å®‰è£…OpenWebUIï¼Œä¸€å£æ°”å¼€äº†2gçš„swapã€‚ç•ç•ç¼©ç¼©ä¸æ•¢ä½¿ç”¨åŠ¨æ€åšå®¢ã€ä¸æ•¢ä½¿ç”¨1panelç­‰è¿ç»´é¢æ¿ã€‚æ€•äº†çœŸæ€•äº†ï¼ŒğŸ˜­ç‹¼ç‹ˆçš„æˆ‘å«æ³ªæº¢ä»·ä¸€ç™¾å—æ”¶ä¸‹ä¸€å°æœºå™¨ï¼Œåªå¸Œæœ›èƒ½ç”¨çš„é•¿ä¹…å§ã€‚&lt;/p&gt;
&lt;p&gt;ä»¥ä¸‹è®°å½•ä¸€ä¸‹æˆ‘æ‹¿åˆ°ä¸€å°æ–°æœºå™¨ä¼šåšä»€ä¹ˆä»¥åŠè¿ç§»è¿‡ç¨‹ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h2 class="heading" id="å®‰å…¨"&gt;
 å®‰å…¨
 &lt;a class="anchor" href="#%e5%ae%89%e5%85%a8"&gt;#&lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;æœ€é‡è¦çš„å½“ç„¶æ˜¯å®‰å…¨ï¼Œä¹‹å‰å·²ç»ç»™å‡ºäº†æœåŠ¡å™¨çš„å®‰å…¨è®ºï¼Œè¯·çœ‹&lt;a href="https://blog.yzyy.de/explore/%E6%9C%8D%E5%8A%A1%E5%99%A8/vps%E5%9F%BA%E6%9C%AC%E5%AE%89%E5%85%A8%E6%8E%AA%E6%96%BD/"&gt;VPSåŸºç¡€å®‰å…¨é…ç½®å®è·µæŒ‡å—&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;h2 class="heading" id="å®‰è£…docker"&gt;
 å®‰è£…docker
 &lt;a class="anchor" href="#%e5%ae%89%e8%a3%85docker"&gt;#&lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;å› ä¸ºå¤šæ•°æœåŠ¡æ˜¯è¿è¡Œåœ¨dockerä¸Šçš„ï¼Œå®‰è£…docker &amp;amp; docker composeæ˜¯å¿…ä¸å¯å°‘çš„ã€‚&lt;/p&gt;
&lt;h2 class="heading" id="sslè¯ä¹¦"&gt;
 SSLè¯ä¹¦
 &lt;a class="anchor" href="#ssl%e8%af%81%e4%b9%a6"&gt;#&lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;ä¸æ˜¯ç®€å•åœ°è¿ç§»å·²æœ‰è¯ä¹¦å°±è¡Œäº†ï¼Œè¿˜è¦è¿ç§»é…ç½®å¥½çš„è‡ªåŠ¨ç»­ç­¾æœåŠ¡ï¼Œç»è¿‡æŸ¥çœ‹åœ¨ä¸€å°æœºå™¨ä¸Šæœ‰å››ä¸ªåŸŸåçš„è‡ªåŠ¨ç»­ç­¾æœåŠ¡ï¼Œä½†æ˜¯æˆ‘å‡†å¤‡ç˜¦èº«ä¸€ä¸‹ï¼Œæœ‰äº›åŸŸåå¿«åˆ°æœŸäº†ã€‚












&lt;figure class=""&gt;

 &lt;div class="img-container" &gt;
 &lt;img loading="lazy" alt="" src="https://webp.050612.xyz/2025/07/certificates.png" &gt;
 &lt;/div&gt;

 
&lt;/figure&gt;
&lt;/p&gt;
&lt;h3 class="heading" id="è‡ªåŠ¨ç»­ç­¾æ”¹è¿›åçš„æ–¹æ¡ˆ"&gt;
 è‡ªåŠ¨ç»­ç­¾æ”¹è¿›åçš„æ–¹æ¡ˆ
 &lt;a class="anchor" href="#%e8%87%aa%e5%8a%a8%e7%bb%ad%e7%ad%be%e6%94%b9%e8%bf%9b%e5%90%8e%e7%9a%84%e6%96%b9%e6%a1%88"&gt;#&lt;/a&gt;
&lt;/h3&gt;
&lt;p&gt;å‘ç°ä¹‹å‰çš„å¤šä¸ªåŸŸåçš„è‡ªåŠ¨ç»­ç­¾ç®¡ç†ååˆ†ç¹çï¼Œä¸AIäº¤æµåè·å¾—äº†ä¸€ä¸ªæ›´ä¸ºç®€æ´çš„å¯è¡Œçš„æ–¹æ¡ˆï¼Œç®€åŒ–äº†æ“ä½œä¸é…ç½®ã€‚&lt;/p&gt;
&lt;h4 class="heading" id="cloudflare-api"&gt;
 Cloudflare API
 &lt;a class="anchor" href="#cloudflare-api"&gt;#&lt;/a&gt;
&lt;/h4&gt;
&lt;p&gt;ä½¿ç”¨ Cloudflare DNS æ¨¡å¼éœ€è¦å‡†å¤‡:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Account ID&lt;/li&gt;
&lt;li&gt;API Token&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 class="heading" id="è·å–-account-id"&gt;
 è·å– Account ID
 &lt;a class="anchor" href="#%e8%8e%b7%e5%8f%96-account-id"&gt;#&lt;/a&gt;
&lt;/h5&gt;
&lt;p&gt;è¿™ä¸¤ç§ ID ç›´æ¥åœ¨ Overview é¡µå°±èƒ½æ‰¾åˆ°ã€‚&lt;/p&gt;
&lt;p&gt;











&lt;figure class=""&gt;

 &lt;div class="img-container" &gt;
 &lt;img loading="lazy" alt="cloudflare_account_id" src="https://webp.050612.xyz/2025/07/cloudflare_account_id.png" &gt;
 &lt;/div&gt;

 
&lt;/figure&gt;
&lt;/p&gt;
&lt;h5 class="heading" id="è·å–-api-token"&gt;
 è·å– API Token
 &lt;a class="anchor" href="#%e8%8e%b7%e5%8f%96-api-token"&gt;#&lt;/a&gt;
&lt;/h5&gt;
&lt;p&gt;Overview é¡µç‚¹å‡» &lt;code&gt;è·å–æ‚¨çš„ API ä»¤ç‰Œ&lt;/code&gt; è¿›å…¥ API Tokens é¡µã€‚&lt;/p&gt;
&lt;p&gt;ç‚¹å‡» API Tokens é¡¹æ—è¾¹ &lt;code&gt;åˆ›å»ºä»¤ç‰Œ&lt;/code&gt; æŒ‰é’®ï¼Œæ¥ç€é€‰æ‹© &lt;code&gt;ç¼–è¾‘åŒºåŸŸ DNS&lt;/code&gt; çš„æ¨¡æ¿ï¼Œç‚¹å‡» &lt;code&gt;ä½¿ç”¨æ¨¡æ¿&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;











&lt;figure class=""&gt;

 &lt;div class="img-container" &gt;
 &lt;img loading="lazy" alt="image" src="https://webp.050612.xyz/2025/02/e15d8a0a1de821faab5355e610b581016975b974_2_690x265.png" &gt;
 &lt;/div&gt;

 
&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;











&lt;figure class=""&gt;

 &lt;div class="img-container" &gt;
 &lt;img loading="lazy" alt="image" src="https://webp.050612.xyz/2025/02/42f87595d27a6fb3ed1fe329934517f5416920c6_2_690x210.png" &gt;
 &lt;/div&gt;

 
&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;&lt;code&gt;åŒºåŸŸèµ„æº&lt;/code&gt; é‡Œé€‰æ‹©éœ€è¦ç­¾å‘çš„åŸŸåï¼Œå¤šä¸ªåŸŸåé€‰æ‹©å¤šä¸ªã€‚ä¸å»ºè®®é€‰æ‹©å…¨éƒ¨çš„åŸŸåï¼Œ**æœ€å°æƒé™åŸåˆ™ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ &lt;code&gt;å®¢æˆ·ç«¯ IP åœ°å€ç­›é€‰&lt;/code&gt; é‡Œå»ºè®®å†™ä¸‹ acme.sh æ‰€åœ¨çš„ä¸»æœºåšä¸ºç™½åå•ï¼Œéœ€è¦æ³¨æ„ï¼Œå¦‚æœæœåŠ¡å™¨æœ‰ ipv6 åœ°å€ï¼Œåˆ™ä¹Ÿéœ€è¦æ·»åŠ ï¼Œå› ä¸ºæœ‰å¯èƒ½ä¼š ipv6 ä¼˜å…ˆè®¿é—®ã€‚&lt;/p&gt;
&lt;p&gt;å‡» &lt;code&gt;ç»§ç»­ä»¥æ˜¾ç¤ºæ‘˜è¦&lt;/code&gt; , ç¡®è®¤æ²¡é—®é¢˜åæœ€åç‚¹å‡» &lt;code&gt;åˆ›å»ºä»¤ç‰Œ&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;











&lt;figure class=""&gt;

 &lt;div class="img-container" &gt;
 &lt;img loading="lazy" alt="image" src="https://webp.050612.xyz/2025/02/e88966d6049c27c31c632f9471ec1b79be287b59_2_510x499.png" &gt;
 &lt;/div&gt;

 
&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;æ­¤æ—¶å°±ä¼šå‡ºç°ä¸€ä¸ª Token,ï¼Œå³ CF_Tokenï¼Œæ‹·è´å¤‡ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;











&lt;figure class=""&gt;

 &lt;div class="img-container" &gt;
 &lt;img loading="lazy" alt="image" src="https://webp.050612.xyz/2025/02/ca6093ea6bf83325809ea6179d4239ae2c9818cc_2_690x404.png" &gt;
 &lt;/div&gt;

 
&lt;/figure&gt;
&lt;/p&gt;
&lt;h5 class="heading" id="æ³¨æ„"&gt;
 æ³¨æ„
 &lt;a class="anchor" href="#%e6%b3%a8%e6%84%8f"&gt;#&lt;/a&gt;
&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ³¨æ„æ–°å¢åŸŸåæ—¶ï¼Œéœ€è¦æ›´æ”¹API Tokenæ‰€åŒ…å«çš„åŸŸå&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ³¨æ„æœ‰å¤šå°æœºå™¨æ—¶ï¼Œéœ€è¦æ–°å¢æœºå™¨çš„IPåˆ°ç™½åå•&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;











&lt;figure class=""&gt;

 &lt;div class="img-container" &gt;
 &lt;img loading="lazy" alt="update_cf_api_token" src="https://webp.050612.xyz/2025/02/update_cf_api_token.png" &gt;
 &lt;/div&gt;

 
&lt;/figure&gt;













&lt;figure class=""&gt;

 &lt;div class="img-container" &gt;
 &lt;img loading="lazy" alt="cf-api-token-ip" src="https://webp.050612.xyz/2025/02/cf-api-token-ip.png" &gt;
 &lt;/div&gt;

 
&lt;/figure&gt;
&lt;/p&gt;
&lt;h4 class="heading" id="ä¸€ä¸ªå®Œæ•´çš„æ¼”ç¤º"&gt;
 ä¸€ä¸ªå®Œæ•´çš„æ¼”ç¤º
 &lt;a class="anchor" href="#%e4%b8%80%e4%b8%aa%e5%ae%8c%e6%95%b4%e7%9a%84%e6%bc%94%e7%a4%ba"&gt;#&lt;/a&gt;
&lt;/h4&gt;
&lt;p&gt;è·å–åˆ°äº†ä»¥ä¸Šä¸¤ä¸ªtokenå³å¯å¼€å§‹æ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†ä½¿æ•´ä¸ªæµç¨‹æ›´åŠ æ¸…æ™°ï¼ˆ&lt;del&gt;æ–¹ä¾¿è‡ªå·±æ“ä½œ&lt;/del&gt;ï¼‰ï¼Œè¿™é‡Œè´´ä¸€ä¸ªè‡ªå·±å¹³æ—¶ä½¿ç”¨ acme.sh ç”³è¯·è¯ä¹¦çš„å®Œæ•´æµç¨‹ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç”³è¯·æ–¹å¼ï¼šDNS è®¤è¯ï¼ˆä½¿ç”¨ Cloudflare APIï¼‰&lt;/li&gt;
&lt;li&gt;ç”³è¯·è¯ä¹¦ CAï¼šLetâ€™s Encrypt&lt;/li&gt;
&lt;li&gt;ç”³è¯·è¯ä¹¦ç±»å‹ï¼šRSA + ECC ä¸¤ä¸ªé€šé…ç¬¦è¯ä¹¦&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åç»­ç”³è¯·è¯ä¹¦çš„å‘½ä»¤ï¼Œéƒ½æ˜¯åœ¨ root ç”¨æˆ·ä¸‹æ‰§è¡Œçš„ï¼Œè¯·å…ˆä½¿ç”¨ &lt;code&gt;su&lt;/code&gt; åˆ‡æ¢åˆ° root ç”¨æˆ·ã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;# è¿›å…¥rootç”¨æˆ·&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;su
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;# å®‰è£… acme.sh&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;curl https://get.acme.sh | sh
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;# åˆ·æ–° shell å˜é‡é…ç½®&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="font-weight:bold;font-style:italic"&gt;source&lt;/span&gt; ~/.bashrc
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;# å¯¼å…¥ Cloudflare API Token&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="font-weight:bold;font-style:italic"&gt;export&lt;/span&gt; &lt;span style="color:#666;font-weight:bold;font-style:italic"&gt;CF_Token&lt;/span&gt;=&lt;span style="color:#666;font-style:italic"&gt;&amp;#34;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="font-weight:bold;font-style:italic"&gt;export&lt;/span&gt; &lt;span style="color:#666;font-weight:bold;font-style:italic"&gt;CF_Account_ID&lt;/span&gt;=&lt;span style="color:#666;font-style:italic"&gt;&amp;#34;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;# è®¾ç½®é»˜è®¤ CA ä¸º Let&amp;#39;s Encrypt&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;acme.sh --set-default-ca --server letsencrypt
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;# ç­¾å‘ RSA è¯ä¹¦&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;acme.sh --issue --dns dns_cf -d xxx.xyz -d *.xxx.xyz --keylength 2048
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;# å®‰è£… RSA è¯ä¹¦åˆ°æŒ‡å®šè·¯å¾„&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;acme.sh --install-cert -d domain.tld &lt;span style="color:#666;font-style:italic"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#666;font-style:italic"&gt;&lt;/span&gt;--key-file /path/to/ssl/domain.tld_private.key &lt;span style="color:#666;font-style:italic"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#666;font-style:italic"&gt;&lt;/span&gt;--fullchain-file /path/to/ssl/domain.tld_chain.pem &lt;span style="color:#666;font-style:italic"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#666;font-style:italic"&gt;&lt;/span&gt;--reloadcmd &lt;span style="color:#666;font-style:italic"&gt;&amp;#34;service nginx reload&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;# ç­¾å‘ ECC è¯ä¹¦ï¼Œè‹¥ä¸éœ€è¦ï¼Œè·³è¿‡å³å¯&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;acme.sh --issue --dns dns_cf -d domain.tld -d *.domain.tld --keylength ec-256
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;# å®‰è£… ECC è¯ä¹¦åˆ°æŒ‡å®šè·¯å¾„&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;acme.sh --install-cert -d domain.tld --ecc &lt;span style="color:#666;font-style:italic"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#666;font-style:italic"&gt;&lt;/span&gt;--key-file /path/to/ssl/ecc_domain.tld_private.key &lt;span style="color:#666;font-style:italic"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#666;font-style:italic"&gt;&lt;/span&gt;--fullchain-file /path/to/ssl/ecc_domain.tld_chain.pem &lt;span style="color:#666;font-style:italic"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#666;font-style:italic"&gt;&lt;/span&gt;--capath /path/to/ssl/ecc_domain.tld_ca.pem &lt;span style="color:#666;font-style:italic"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#666;font-style:italic"&gt;&lt;/span&gt;--reloadcmd &lt;span style="color:#666;font-style:italic"&gt;&amp;#34;service nginx reload&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;# è‡³æ­¤è¯ä¹¦å®‰è£…å®Œæ¯•&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;# ä¸‹é¢æ˜¯åŒä¸€å°ä¸»æœºç”³è¯·ç¬¬äºŒä¸ªåŸŸåè¯ä¹¦&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;###############################ç¬¬äºŒä¸ªåŸŸå#####################################################################&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;# ç­¾å‘ RSA è¯ä¹¦&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;acme.sh --issue --dns dns_cf -d xxx.xyz -d *.xxx.xyz --keylength 2048
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;# å®‰è£… RSA è¯ä¹¦åˆ°æŒ‡å®šè·¯å¾„&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;acme.sh --config-home /root/.acme2 &lt;span style="color:#666;font-style:italic"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#666;font-style:italic"&gt;&lt;/span&gt;--install-cert -d domain.tld &lt;span style="color:#666;font-style:italic"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#666;font-style:italic"&gt;&lt;/span&gt;--key-file /path/to/ssl/domain.tld_private.key &lt;span style="color:#666;font-style:italic"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#666;font-style:italic"&gt;&lt;/span&gt;--fullchain-file /path/to/ssl/domain.tld_chain.pem &lt;span style="color:#666;font-style:italic"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#666;font-style:italic"&gt;&lt;/span&gt;--reloadcmd &lt;span style="color:#666;font-style:italic"&gt;&amp;#34;service nginx reload&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;# ç­¾å‘ ECC è¯ä¹¦ï¼Œè‹¥ä¸éœ€è¦ï¼Œè·³è¿‡å³å¯&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;acme.sh --config-home /root/.acme2 --issue --dns dns_cf -d domain.tld -d *.domain.tld --keylength ec-256
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;# å®‰è£… ECC è¯ä¹¦åˆ°æŒ‡å®šè·¯å¾„&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;acme.sh --config-home /root/.acme2 &lt;span style="color:#666;font-style:italic"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#666;font-style:italic"&gt;&lt;/span&gt;--install-cert -d domain.tld --ecc &lt;span style="color:#666;font-style:italic"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#666;font-style:italic"&gt;&lt;/span&gt;--key-file /path/to/ssl/ecc_domain.tld_private.key &lt;span style="color:#666;font-style:italic"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#666;font-style:italic"&gt;&lt;/span&gt;--fullchain-file /path/to/ssl/ecc_domain.tld_chain.pem &lt;span style="color:#666;font-style:italic"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#666;font-style:italic"&gt;&lt;/span&gt;--capath /path/to/ssl/ecc_domain.tld_ca.pem &lt;span style="color:#666;font-style:italic"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#666;font-style:italic"&gt;&lt;/span&gt;--reloadcmd &lt;span style="color:#666;font-style:italic"&gt;&amp;#34;service nginx reload&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ£€æŸ¥cronå®šæ—¶ä»»åŠ¡æ˜¯å¦å·²ç»æˆåŠŸåˆ›å»º&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;crontab -l
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¦‚æœæœ‰ä¸¤ä¸ªä»¥ä¸Šçš„åŸŸåæˆ–è€…æ–°å¢åŸŸåï¼Œ
åªéœ€è¦ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨Cloudflareçš„ã€ŒAPI Tokenã€ç®¡ç†ä¸­ï¼Œæ–°å¢API Tokenæ‰€åŒ…å«çš„åŸŸå&lt;/li&gt;
&lt;li&gt;ç­¾å‘æ–°åŸŸåçš„è¯ä¹¦å¹¶å®‰è£…åˆ°æŒ‡å®šä½ç½®&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;acme.shä¼šæ£€æŸ¥æ‰€ç®¡ç†çš„æ‰€æœ‰åŸŸåçš„è¯ä¹¦çš„åˆ°æœŸæ—¶é—´ï¼Œå¦‚æœéœ€è¦ç»­ç­¾ï¼Œåˆ™ä¼šæ‰§è¡Œç»­ç­¾æ“ä½œå¹¶å®‰è£…å¯¼è‡´è®¢ä½ç½®ï¼Œå®ç°è¯ä¹¦çš„è‡ªåŠ¨ç»­ç­¾ã€‚ä¸€åŠ³æ°¸é€¸çš„æ“ä½œã€‚&lt;/p&gt;
&lt;h2 class="heading" id="è¿ç§»æœåŠ¡"&gt;
 è¿ç§»æœåŠ¡
 &lt;a class="anchor" href="#%e8%bf%81%e7%a7%bb%e6%9c%8d%e5%8a%a1"&gt;#&lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;åˆ°äº†æœ€å¤æ‚çš„ä¸€ä¸ªç¯èŠ‚äº†ï¼Œå³ä½¿è¿è¡Œåœ¨dockerçš„æœåŠ¡ï¼Œæ¯ä¸ªä¹Ÿè¦è¿ç§»volumesã€nginxé…ç½®ï¼Œå¼€å¹²ï¼ğŸ’ªæ­£å¥½å‡‘è¿™ä¸ªæœºä¼šç»Ÿè®¡ä¸€ä¸‹æˆ‘è¿è¡Œäº†å“ªäº›æœåŠ¡ã€‚&lt;/p&gt;
&lt;h3 class="heading" id="openwebui--newapi"&gt;
 OpenWebUI + NewAPI
 &lt;a class="anchor" href="#openwebui--newapi"&gt;#&lt;/a&gt;
&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;æ‰“åŒ…æŒä¹…åŒ–æ•°æ®ï¼Œå…¶ä¸­NewAPIçš„MySQLä½¿ç”¨äº†Dockerçš„å‘½åå·&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;######## æ‰“åŒ…OpenWebUIå’ŒNewAPIçš„æŒä¹…åŒ–æ•°æ®&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;tar -czvf data.tar.gz ./openwebui ./newapi
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;######## æ‰“åŒ…newapi MySQLæ•°æ®å· ###########&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;# æŸ¥æ‰¾å·çš„ç‰©ç†è·¯å¾„&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;docker volume inspect [é¡¹ç›®å]_mysql_data
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;# åœ¨è¾“å‡ºä¸­æ‰¾åˆ° &amp;#34;Mountpoint&amp;#34;: &amp;#34;/var/lib/docker/volumes/[é¡¹ç›®å]_mysql_data/_data&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo tar -czvf ~/mysql_volume.tar.gz /var/lib/docker/volumes/[é¡¹ç›®å]_mysql_data/_data
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start="2"&gt;
&lt;li&gt;ä½¿ç”¨SFTPåŠŸèƒ½ä¼ è¾“åˆ°æ–°æœºå™¨&lt;/li&gt;
&lt;li&gt;åœ¨æ–°æœºå™¨ä¸Šè§£å‹&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-BASH" data-lang="BASH"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;######## è§£å‹OpenWebUIå’ŒNewAPIçš„æŒä¹…åŒ–æ•°æ®&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo tar -xzvf data.tar.gz -C ./
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;######## è§£å‹newapi MySQLæ•°æ®å· ###########&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;# æ‰‹åŠ¨åˆ›å»ºç›®å½•&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo mkdir -p /var/lib/docker/volumes/[é¡¹ç›®å]_mysql_data/_data
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;# è§£å‹æ–‡ä»¶&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo tar -xzvf ~/mysql_volume.tar.gz -C /var/lib/docker/volumes/[é¡¹ç›®å]_mysql_data/_data
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;# ä¿®å¤æ–‡ä»¶æƒé™&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo chown -R 999:999 /var/lib/docker/volumes/[é¡¹ç›®å]_mysql_data/_data
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start="4"&gt;
&lt;li&gt;é…ç½®nginx&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç›´æ¥æŠŠæ—§æœºå™¨ä¸Šçš„nginxæ‰“åŒ…ä¸Šä¼ åˆ°æ–°æœºä¸Šï¼Œæ“ä½œåªéœ€è¦å»ºç«‹site-availableä¸site-enableçš„è½¯è¿æ¥&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo ln -s /etc/nginx/sites-available/api.vtofun.me /etc/nginx/sites-enabled/api.vtofun.me
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;ç»·ä¸ä½äº†ï¼Œç¬¬ä¸€æ¬¡æ¬å®¶ååˆ†ä¹ƒè‡³ä¸‡åˆ†ä¸é¡ºåˆ©ï¼Œä»ä¸ƒç‚¹æ¬åˆ°åä¸€ç‚¹åŠè¿˜æ²¡æ¬å®Œã€‚æ¬å®¶å¤ªç´¯äº†ğŸ˜­&lt;/p&gt;&lt;/blockquote&gt;
&lt;h3 class="heading" id="openlist"&gt;
 OpenList
 &lt;a class="anchor" href="#openlist"&gt;#&lt;/a&gt;
&lt;/h3&gt;
&lt;p&gt;æƒ³åˆ°å‰æ®µæ—¶é—´çš„alistçš„æš´é›·å•†ä¸šåŒ–ï¼Œæˆ‘è¿˜æ˜¯æŠŠé•œåƒæ¢æˆOpenListå§ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;dockeré•œåƒå˜æ›´&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-yml" data-lang="yml"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;version: &lt;span style="color:#666;font-style:italic"&gt;&amp;#39;3.3&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;services:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; alist:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; image: &lt;span style="color:#666;font-style:italic"&gt;&amp;#39;openlistteam/openlist:latest&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; container_name: alist
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; volumes:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - &lt;span style="color:#666;font-style:italic"&gt;&amp;#39;./data:/opt/alist/data&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ports:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - &lt;span style="color:#666;font-style:italic"&gt;&amp;#39;127.0.0.1:1259:5244&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; environment:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - PUID=0
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - PGID=0
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - UMASK=022
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; restart: unless-stopped
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start="2"&gt;
&lt;li&gt;é…ç½®nginx&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo ln -s /etc/nginx/sites-available/api.vtofun.me /etc/nginx/sites-enabled/api.vtofun.me
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start="3"&gt;
&lt;li&gt;æ³¨æ„æ‰“å¼€adminç”¨æˆ·çš„webdavçš„è¯»æƒé™ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 class="heading" id="sub-store"&gt;
 sub-store
 &lt;a class="anchor" href="#sub-store"&gt;#&lt;/a&gt;
&lt;/h3&gt;
&lt;p&gt;å¾ˆå¥½ç”¨çš„ä»£ç†é…ç½®ç®¡ç†è½¯ä»¶&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;nginx&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo ln -s /etc/nginx/sites-available/substore /etc/nginx/sites-enabled/substore
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo systemctl restart nginx.service 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 class="heading" id="gemini-balance"&gt;
 Gemini-balance
 &lt;a class="anchor" href="#gemini-balance"&gt;#&lt;/a&gt;
&lt;/h3&gt;
&lt;p&gt;ä¸€ä¸ªå¾ˆå¥½ç”¨çš„geminiä»£ç†æœåŠ¡ï¼Œæ”¯æŒå¤šKEYï¼Œå¤±è´¥é‡è¯•ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;ç”±äºä¹‹å‰æœåŠ¡å™¨ä¸ºé¦™æ¸¯ï¼Œè€ŒAIæœåŠ¡ä¸€èˆ¬éƒ½ä¸æ”¯æŒä¸­å›½å¤§é™†ä»¥åŠé¦™æ¸¯ï¼Œæ‰€ä»¥ä¹‹å‰gemini-balanceæœåŠ¡éƒ¨ç½²åœ¨ä¸€ä¸ªå°æœºå™¨ä¸Šã€‚æ­£å¥½è¶ç€è¿™æ¬¡æ¬å®¶æ¬åˆ°ä¸€èµ·ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;docker-compose.ymlæ–‡ä»¶ï¼Œé€šè¿‡.envä½¿ç”¨å’ŒNew-APIåŒä¸€ä¸ªMySQLï¼Œé¿å…èµ·ä¸¤ä¸ªMySQLæœåŠ¡ï¼Œé€ æˆèµ„æºæµªè´¹ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-yml" data-lang="yml"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#888;font-style:italic"&gt;# Geminiä»£ç†æ± &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; gemini-balance:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; image: ghcr.io/snailyp/gemini-balance:latest
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; container_name: gemini-balance
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; restart: unless-stopped
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ports:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - &lt;span style="color:#666;font-style:italic"&gt;&amp;#34;127.0.0.1:1260:8000&amp;#34;&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; env_file:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - .env &lt;span style="color:#888;font-style:italic"&gt;# åŒæ ·ä½¿ç”¨ .env æ–‡ä»¶ç®¡ç†é…ç½®&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; networks:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - app_network &lt;span style="color:#888;font-style:italic"&gt;# åŠ å…¥ç»Ÿä¸€ç½‘ç»œ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; depends_on:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; mysql:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; condition: service_healthy &lt;span style="color:#888;font-style:italic"&gt;# ä¾èµ–äºæˆ‘ä»¬ç»Ÿä¸€çš„ mysql æœåŠ¡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; healthcheck:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; test: [&lt;span style="color:#666;font-style:italic"&gt;&amp;#34;CMD-SHELL&amp;#34;&lt;/span&gt;, &lt;span style="color:#666;font-style:italic"&gt;&amp;#34;python -c \&amp;#34;import requests; exit(0) if requests.get(&amp;#39;http://localhost:8000/health&amp;#39;).status_code == 200 else exit(1)\&amp;#34;&amp;#34;&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; interval: 30s
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; timeout: 5s
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; retries: 3
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; start_period: 10s
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;nginxé…ç½®æ–‡ä»¶æ²¡æœ‰ä»€ä¹ˆç‰¹æ®Šçš„ï¼Œåä»£ä¸€ä¸‹å³å¯ã€‚&lt;/p&gt;
&lt;h3 class="heading" id="pdfmathtranslate"&gt;
 PDFMathTranslate
 &lt;a class="anchor" href="#pdfmathtranslate"&gt;#&lt;/a&gt;
&lt;/h3&gt;
&lt;p&gt;ä¸€ä¸ªåŸºäº AI å®Œæ•´ä¿ç•™æ’ç‰ˆçš„ PDF æ–‡æ¡£å…¨æ–‡åŒè¯­ç¿»è¯‘ï¼Œæ”¯æŒ Google/DeepL/Ollama/OpenAI ç­‰æœåŠ¡ã€‚&lt;/p&gt;
&lt;h2 class="heading" id="å®‰è£…æ–°æœåŠ¡"&gt;
 å®‰è£…æ–°æœåŠ¡
 &lt;a class="anchor" href="#%e5%ae%89%e8%a3%85%e6%96%b0%e6%9c%8d%e5%8a%a1"&gt;#&lt;/a&gt;
&lt;/h2&gt;
&lt;h3 class="heading" id="1panel"&gt;
 1Panel
 &lt;a class="anchor" href="#1panel"&gt;#&lt;/a&gt;
&lt;/h3&gt;
&lt;p&gt;ä¸€é”®å®‰è£…çš„å‘½ä»¤ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;bash -c &lt;span style="color:#666;font-style:italic"&gt;&amp;#34;&lt;/span&gt;&lt;span style="font-weight:bold;text-decoration:underline"&gt;$(&lt;/span&gt;curl -sSL https://resource.fit2cloud.com/1panel/package/v2/quick_start.sh&lt;span style="font-weight:bold;text-decoration:underline"&gt;)&lt;/span&gt;&lt;span style="color:#666;font-style:italic"&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;











&lt;figure class=""&gt;

 &lt;div class="img-container" &gt;
 &lt;img loading="lazy" alt="" src="https://webp.050612.xyz/2025/07/20250718151202885.png" &gt;
 &lt;/div&gt;

 
&lt;/figure&gt;
&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;2025-07-18æ—¥æ›´æ–°
1panel é¢æ¿bugå¥½å¤šï¼Œä½¿ç”¨nginxåä»£é¢æ¿æœ¬èº«å®ç°httpsè®¿é—®ï¼Œä¸€ç›´å¡åœ¨loadingã€‚ä¸çŸ¥æ˜¯ä¸æ˜¯æˆ‘æ“ä½œæœ‰é—®é¢˜ã€‚&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;ä¼¼ä¹é‡è§é—®é¢˜çš„æƒ…å†µæœ‰å¾ˆå¤šã€‚












&lt;figure class=""&gt;

 &lt;div class="img-container" &gt;
 &lt;img loading="lazy" alt="" src="https://webp.050612.xyz/2025/07/20250718161106071.png" &gt;
 &lt;/div&gt;

 
&lt;/figure&gt;
&lt;/p&gt;
&lt;h4 class="heading" id="é—®é¢˜å®šä½"&gt;
 é—®é¢˜å®šä½
 &lt;a class="anchor" href="#%e9%97%ae%e9%a2%98%e5%ae%9a%e4%bd%8d"&gt;#&lt;/a&gt;
&lt;/h4&gt;
&lt;p&gt;ç›®å‰ä½¿ç”¨ip:portæ–¹å¼å¯ä»¥æ­£å¸¸è®¿é—®ï¼Œä½¿ç”¨åŸŸåæ— æ³•è®¿é—®ï¼Œå¯ä»¥åˆæ­¥åˆ¤æ–­ä¸ºnginxåä»£çš„é…ç½®é—®é¢˜ã€‚&lt;/p&gt;
&lt;h4 class="heading" id="é—®é¢˜è§£å†³"&gt;
 é—®é¢˜è§£å†³
 &lt;a class="anchor" href="#%e9%97%ae%e9%a2%98%e8%a7%a3%e5%86%b3"&gt;#&lt;/a&gt;
&lt;/h4&gt;
&lt;p&gt;è´´ä¸Šä¸€ä»½å¯ä»¥æ­£å¸¸å·¥ä½œçš„nginxé…ç½®ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-nginx" data-lang="nginx"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="font-weight:bold;text-decoration:underline"&gt;server&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;listen&lt;/span&gt; 80;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;server_name&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;xxx&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;return&lt;/span&gt; 301 &lt;span style="color:#666;font-style:italic"&gt;https://&lt;/span&gt;&lt;span style="color:#666;font-weight:bold;font-style:italic"&gt;$server_name$request_uri&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="font-weight:bold;text-decoration:underline"&gt;server&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;listen&lt;/span&gt; 443 &lt;span style="color:#666;font-style:italic"&gt;ssl&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;http2&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;server_name&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;xxx&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;ssl_certificate&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;/etc/ssl/certs/xxx&lt;/span&gt;; 
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;ssl_certificate_key&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;/etc/ssl/private/xxx&lt;/span&gt;; 
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;ssl_session_timeout&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;1d&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;ssl_session_cache&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;shared:MozSSL:10m&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;ssl_ciphers&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;ssl_prefer_server_ciphers&lt;/span&gt; &lt;span style="color:#666;font-weight:bold;font-style:italic"&gt;off&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;ssl_protocols&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;TLSv1.1&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;TLSv1.2&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;TLSv1.3&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;add_header&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;Strict-Transport-Security&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;&amp;#34;max-age=63072000&amp;#34;&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;always&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;client_max_body_size&lt;/span&gt; 500m;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;location&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;/&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;proxy_pass&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;http://xxxx:1255&lt;/span&gt;; &lt;span style="color:#888;font-style:italic"&gt;# xxxæ›¿æ¢ä¸ºå†…éƒ¨è®¿é—®åœ°å€
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;proxy_http_version&lt;/span&gt; 1&lt;span style="color:#666;font-style:italic"&gt;.1&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#888;font-style:italic"&gt;# WebSocket ä»£ç†æ‰€éœ€çš„å¤´ï¼Œ1Panel å¯èƒ½ç”¨åˆ°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;&lt;/span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;proxy_set_header&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;Upgrade&lt;/span&gt; &lt;span style="color:#666;font-weight:bold;font-style:italic"&gt;$http_upgrade&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;proxy_set_header&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;Connection&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;&amp;#34;upgrade&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#888;font-style:italic"&gt;# é‡è¦çš„è½¬å‘å¤´
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;&lt;/span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;proxy_set_header&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;Host&lt;/span&gt; &lt;span style="color:#666;font-weight:bold;font-style:italic"&gt;$host&lt;/span&gt;; &lt;span style="color:#888;font-style:italic"&gt;# ä¼ é€’åŸå§‹è¯·æ±‚çš„ Host å¤´
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;&lt;/span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;proxy_set_header&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;X-Real-IP&lt;/span&gt; &lt;span style="color:#666;font-weight:bold;font-style:italic"&gt;$remote_addr&lt;/span&gt;; &lt;span style="color:#888;font-style:italic"&gt;# ä¼ é€’çœŸå®å®¢æˆ·ç«¯IP
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;&lt;/span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;proxy_set_header&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;X-Forwarded-For&lt;/span&gt; &lt;span style="color:#666;font-weight:bold;font-style:italic"&gt;$proxy_add_x_forwarded_for&lt;/span&gt;; &lt;span style="color:#888;font-style:italic"&gt;# ä¼ é€’å®Œæ•´çš„IPé“¾
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#888;font-style:italic"&gt;# *** ä¼ é€’åŸå§‹è¯·æ±‚åè®®ï¼Œè§£å†³æ··åˆå†…å®¹é—®é¢˜ ***
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;&lt;/span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;proxy_set_header&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;X-Forwarded-Proto&lt;/span&gt; &lt;span style="color:#666;font-weight:bold;font-style:italic"&gt;$scheme&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#888;font-style:italic"&gt;# æ¨èï¼šå¦‚æœé‡åˆ°å¤§æ–‡ä»¶ä¸Šä¼ æˆ–ä¸‹è½½é—®é¢˜ï¼Œå¯ä»¥å°è¯•å…³é—­ buffering
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;&lt;/span&gt; &lt;span style="color:#888;font-style:italic"&gt;# proxy_buffering off;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;&lt;/span&gt; &lt;span style="color:#888;font-style:italic"&gt;# proxy_request_buffering off;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;&lt;/span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 class="heading" id="åè®°"&gt;
 åè®°
 &lt;a class="anchor" href="#%e5%90%8e%e8%ae%b0"&gt;#&lt;/a&gt;
&lt;/h4&gt;
&lt;p&gt;åœ¨å®‰è£…1panelä¹‹å‰æ²¡æœ‰ä½¿ç”¨è¿‡å…¶ä»–è¿ç»´é¢æ¿ï¼Œä¹Ÿä¸æ˜¯ä¸“ä¸šçš„è¿ç»´äººå‘˜ï¼Œä¸è¿‡æœ‰ä¸€ä¸ªGUIæ€»å½’æ˜¯å¥½äº‹ã€‚å¯æ˜¯è£…ä¸Šäº†ä¹‹åï¼Œå‘ç°èƒ½ç”¨ä¸Šçš„åŠŸèƒ½å¯¥å¯¥æ— å‡ ã€‚&lt;/p&gt;
&lt;p&gt;æ¥çœ‹çœ‹1panelå®˜ç½‘ä»‹ç»ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;1Panel ä½œä¸ºä¸€æ¬¾ç°ä»£åŒ–ã€å¼€æºçš„ Linux æœåŠ¡å™¨è¿ç»´ç®¡ç†é¢æ¿ï¼Œå…¶åŠŸèƒ½æ¶µç›–äº†æœåŠ¡å™¨ç®¡ç†çš„æ–¹æ–¹é¢é¢ï¼Œå¹¶ç‰¹åˆ«å¼ºè°ƒäº†æ˜“ç”¨æ€§å’Œå¯¹æ–°æŠ€æœ¯çš„æ”¯æŒã€‚&lt;/p&gt;&lt;/blockquote&gt;
&lt;h5 class="heading" id="æ ¸å¿ƒæœåŠ¡å™¨ç®¡ç†-é«˜æ•ˆç®¡ç†"&gt;
 æ ¸å¿ƒæœåŠ¡å™¨ç®¡ç† (é«˜æ•ˆç®¡ç†)
 &lt;a class="anchor" href="#%e6%a0%b8%e5%bf%83%e6%9c%8d%e5%8a%a1%e5%99%a8%e7%ae%a1%e7%90%86-%e9%ab%98%e6%95%88%e7%ae%a1%e7%90%86"&gt;#&lt;/a&gt;
&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;è¿™ä¸ªè¿˜æ˜¯å¾ˆæœ‰ç”¨çš„ï¼Œå¯ä»¥ç›´è§‚çœ‹åˆ°æœåŠ¡å™¨çš„èµ„æºä½¿ç”¨æƒ…å†µã€‚&lt;/p&gt;&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä¸»æœºç›‘æ§&lt;/strong&gt;: å®æ—¶ç›‘æ§æœåŠ¡å™¨çš„ CPUã€å†…å­˜ã€ç£ç›˜ I/Oã€ç½‘ç»œç­‰å„é¡¹æ€§èƒ½æŒ‡æ ‡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ–‡ä»¶ç®¡ç†&lt;/strong&gt;: æä¾›åœ¨çº¿æ–‡ä»¶ç®¡ç†å™¨ï¼Œæ–¹ä¾¿ç”¨æˆ·ä¸Šä¼ ã€ä¸‹è½½ã€ç¼–è¾‘ã€åˆ é™¤æœåŠ¡å™¨ä¸Šçš„æ–‡ä»¶ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ•°æ®åº“ç®¡ç†&lt;/strong&gt;: å¯è§†åŒ–ç®¡ç† MySQLã€PostgreSQLã€MongoDB ç­‰å¤šç§æ•°æ®åº“ï¼ŒåŒ…æ‹¬åˆ›å»ºã€åˆ é™¤æ•°æ®åº“ã€ç”¨æˆ·ç®¡ç†ç­‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®¹å™¨ç®¡ç†&lt;/strong&gt;: ç»Ÿä¸€ç®¡ç† Docker å®¹å™¨ï¼ŒåŒ…æ‹¬å®¹å™¨çš„å¯åŠ¨ã€åœæ­¢ã€é‡å¯ã€åˆ é™¤ã€æ—¥å¿—æŸ¥çœ‹ç­‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 class="heading" id="ç½‘ç«™ä¸åŸŸåç®¡ç†-å¿«é€Ÿå»ºç«™"&gt;
 ç½‘ç«™ä¸åŸŸåç®¡ç† (å¿«é€Ÿå»ºç«™)
 &lt;a class="anchor" href="#%e7%bd%91%e7%ab%99%e4%b8%8e%e5%9f%9f%e5%90%8d%e7%ae%a1%e7%90%86-%e5%bf%ab%e9%80%9f%e5%bb%ba%e7%ab%99"&gt;#&lt;/a&gt;
&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;å¯¹æˆ‘æ¥è¯´æ— ç”¨ï¼Œç›®å‰dockerçš„åŸºæœ¬æ“ä½œå·²ç»å¤Ÿç®€å•äº†ï¼ŒNginxé…ç½®å†™èµ·æ¥ä¹Ÿä¸å›°éš¾ã€‚&lt;/p&gt;&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä¸€é”®å»ºç«™éƒ¨ç½²&lt;/strong&gt;: æ·±åº¦é›†æˆ WordPressã€Halo ç­‰å¼€æºå»ºç«™è½¯ä»¶ï¼Œæ”¯æŒä¸€é”®å¿«é€Ÿéƒ¨ç½²ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŸŸåç®¡ç†ä¸é…ç½®&lt;/strong&gt;: æ–¹ä¾¿åœ°è¿›è¡ŒåŸŸåç»‘å®šã€è§£æè®¾ç½®ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;SSL è¯ä¹¦ç®¡ç†&lt;/strong&gt;: æ”¯æŒè‡ªåŠ¨ç”³è¯·å’Œé…ç½® Let&amp;rsquo;s Encrypt ç­‰ SSL è¯ä¹¦ï¼Œå®ç° HTTPS å®‰å…¨è®¿é—®ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¤šç«™ç‚¹ç®¡ç†&lt;/strong&gt;: æ”¯æŒåœ¨åŒä¸€æœåŠ¡å™¨ä¸Šç®¡ç†å¤šä¸ªç½‘ç«™ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 class="heading" id="åº”ç”¨ç”Ÿæ€ä¸å•†åº—"&gt;
 åº”ç”¨ç”Ÿæ€ä¸å•†åº—
 &lt;a class="anchor" href="#%e5%ba%94%e7%94%a8%e7%94%9f%e6%80%81%e4%b8%8e%e5%95%86%e5%ba%97"&gt;#&lt;/a&gt;
&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;åŒä¸Šï¼Œå®‰è£…åº”ç”¨ä¹Ÿä¸å›°éš¾ã€‚&lt;/p&gt;&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ç²¾é€‰å¼€æºåº”ç”¨&lt;/strong&gt;: æä¾›ä¸€ä¸ªä¸°å¯Œçš„åº”ç”¨å•†åº—ï¼Œæ¶µç›–å„ç±»é«˜è´¨é‡çš„å¼€æºå·¥å…·å’Œåº”ç”¨è½¯ä»¶ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸€é”®å®‰è£…éƒ¨ç½²&lt;/strong&gt;: ç”¨æˆ·å¯ä»¥è½»æ¾é€šè¿‡ç‚¹å‡»å®‰è£…å’Œéƒ¨ç½²è¿™äº›åº”ç”¨ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è‡ªåŠ¨æ›´æ–°ç®¡ç†&lt;/strong&gt;: æ”¯æŒå·²å®‰è£…åº”ç”¨çš„è‡ªåŠ¨æ›´æ–°ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ•°æ®å¤‡ä»½ä¸æ¢å¤&lt;/strong&gt;: æä¾›åº”ç”¨æ•°æ®çš„ä¸€é”®å¤‡ä»½å’Œæ¢å¤åŠŸèƒ½ã€‚
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åº”ç”¨å•†åº—ä¸­åŒ…å«çš„å¸¸è§åº”ç”¨ç±»åˆ«ç¤ºä¾‹&lt;/strong&gt;:
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Web æœåŠ¡å™¨&lt;/strong&gt;: OpenResty, Nginx Proxy Manager, OpenLiteSpeed&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ•°æ®åº“&lt;/strong&gt;: MySQL, Redis, PostgreSQL, MariaDB, MongoDB, Elasticsearch, Prometheus, Microsoft SQL Server&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;DevOps å·¥å…·&lt;/strong&gt;: Gitea, Jenkins, ç¦…é“, Docker Registry, ShowDoc, Nexus Repository&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¼€å‘å·¥å…·&lt;/strong&gt;: phpMyAdmin, code-server (æµè§ˆå™¨ä¸­çš„ VS Code), IT-Tools, Adminer&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å»ºç«™ç³»ç»Ÿ&lt;/strong&gt;: Halo, WordPress, Typecho, Flarum, Wiki.js&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;AI / å¤§æ¨¡å‹&lt;/strong&gt;: MaxKB (æ™ºèƒ½ä½“å¹³å°), Ollama (æœ¬åœ°å¤§æ¨¡å‹è¿è¡Œ), OpenWebUI, ChatGPT-Next-Web, LobeChat&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è¿è¡Œç¯å¢ƒ&lt;/strong&gt;: PHP (5/7/8), Node.js, &lt;strong&gt;Java&lt;/strong&gt;, Python, Go, .NET&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸­é—´ä»¶&lt;/strong&gt;: MinIO (å¯¹è±¡å­˜å‚¨), RabbitMQ (æ¶ˆæ¯é˜Ÿåˆ—), Nacos (æœåŠ¡å‘ç°), Kafka, Apache Tomcat, RocketMQ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®‰å…¨å·¥å…·&lt;/strong&gt;: JumpServer (å ¡å’æœº), AdGuardHome (DNS å¹¿å‘Šæ‹¦æˆª), uuWAF (Web åº”ç”¨é˜²ç«å¢™), OpenVPN&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;äº‘å­˜å‚¨&lt;/strong&gt;: AList (å¤šå­˜å‚¨æ–‡ä»¶åˆ—è¡¨), Nextcloud, Cloudreve&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¤šåª’ä½“&lt;/strong&gt;: Jellyfin (åª’ä½“æœåŠ¡å™¨), YesPlayMusic (ç½‘æ˜“äº‘æ’­æ”¾å™¨), Navidrome (éŸ³ä¹æœåŠ¡å™¨)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¼‘é—²æ¸¸æˆ&lt;/strong&gt;: ä¸­æ–‡ DOS æ¸¸æˆ, Minecraft æœåŠ¡å™¨ç®¡ç† (MCSManager), å¹»å…½å¸•é²æœåŠ¡ç«¯&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é‚®ä»¶æœåŠ¡&lt;/strong&gt;: Mailserver, Roundcube (Web é‚®ä»¶å®¢æˆ·ç«¯)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;BI (å•†ä¸šæ™ºèƒ½)&lt;/strong&gt;: DataEase, Metabase (æ•°æ®å¯è§†åŒ–åˆ†æå·¥å…·)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å…¶ä½™çš„ä¸€äº›åŠŸèƒ½ä¸­ï¼Œèƒ½å¸å¼•æˆ‘çš„è¿˜æœ‰è‡ªåŠ¨å¤‡ä»½åŠŸèƒ½ï¼Œæœªæ¥å¯èƒ½ä¼šç”¨åˆ°ã€‚&lt;/p&gt;
&lt;p&gt;è¯´å®è¯ï¼Œæ— æ³•ä½¿ç”¨nginxåä»£å®ç°httpsè®¿é—®å·®ç‚¹æŠŠæˆ‘åŠé€€ï¼Œ1panelçš„å¸è½½å‘½ä»¤éƒ½å·²ç»æ•²åœ¨äº†ç»ˆç«¯ä¸­ã€‚ä¸è¿‡è¿˜æ˜¯æ›´æ–°äº†ä¸€ä¸‹nginxé…ç½®ï¼Œæ‰¾åˆ°äº†é—®é¢˜æ‰€åœ¨ï¼Œç•™ä¸‹æ¥äº†è¿™ä¸ªçœ‹èµ·æ¥å¾ˆèˆ’æœçš„é¢æ¿ã€‚å¸Œæœ›ä»¥åå¯ä»¥å‘æŒ¥æ›´å¤§çš„ä½œç”¨ã€‚&lt;/p&gt;
&lt;h3 class="heading" id="å“ªå’ç›‘æ§v1"&gt;
 å“ªå’ç›‘æ§V1
 &lt;a class="anchor" href="#%e5%93%aa%e5%90%92%e7%9b%91%e6%8e%a7v1"&gt;#&lt;/a&gt;
&lt;/h3&gt;
&lt;h4 class="heading" id="å®‰è£…å‰å‡†å¤‡"&gt;
 å®‰è£…å‰å‡†å¤‡
 &lt;a class="anchor" href="#%e5%ae%89%e8%a3%85%e5%89%8d%e5%87%86%e5%a4%87"&gt;#&lt;/a&gt;
&lt;/h4&gt;
&lt;h5 class="heading" id="åŸŸå"&gt;
 åŸŸå
 &lt;a class="anchor" href="#%e5%9f%9f%e5%90%8d"&gt;#&lt;/a&gt;
&lt;/h5&gt;
&lt;p&gt;ä¸€ä¸ªæ‰˜ç®¡åœ¨ã€ŒCloudflareã€çš„åŸŸåã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;è§£æåˆ°ä¸€ä¸ªè‡³å°‘1c512MBçš„æœåŠ¡å™¨ä¸Šä½œä¸ºé¢æ¿ç«¯ï¼ˆåç«¯ã€ç›‘æ§ç«¯ï¼‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¼€å¯ã€Œwebsocketã€å’Œã€ŒgRPCã€












&lt;figure class=""&gt;

 &lt;div class="img-container" &gt;
 &lt;img loading="lazy" alt="" src="https://webp.050612.xyz/2025/07/20250720201537824.png" &gt;
 &lt;/div&gt;

 
&lt;/figure&gt;
&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 class="heading" id="å®‰è£…å“ªå’é¢æ¿ç«¯"&gt;
 å®‰è£…å“ªå’é¢æ¿ç«¯
 &lt;a class="anchor" href="#%e5%ae%89%e8%a3%85%e5%93%aa%e5%90%92%e9%9d%a2%e6%9d%bf%e7%ab%af"&gt;#&lt;/a&gt;
&lt;/h4&gt;
&lt;p&gt;å®˜æ–¹æ‰‹å†Œï¼š&lt;a href="https://nezha.wiki/guide/dashboard.html"&gt;å®‰è£… Dashboard | å“ªå’æœåŠ¡å™¨ç›‘æ§&lt;/a&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;curl -L https://raw.githubusercontent.com/nezhahq/scripts/refs/heads/main/install.sh -o nezha.sh &amp;amp;&amp;amp; chmod +x nezha.sh &amp;amp;&amp;amp; sudo ./nezha.sh
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å®‰è£…æµç¨‹ï¼šä»…éœ€è¦ç‰¹åˆ«æ³¨æ„nezha-agentåœ°å€å¡«å…¥&lt;code&gt;è§£æåŸŸå:443&lt;/code&gt;












&lt;figure class=""&gt;

 &lt;div class="img-container" &gt;
 &lt;img loading="lazy" alt="" src="https://webp.050612.xyz/2025/07/20250720201932192.png" &gt;
 &lt;/div&gt;

 
&lt;/figure&gt;
&lt;/p&gt;
&lt;h4 class="heading" id="é…ç½®nginxåå‘ä»£ç†"&gt;
 é…ç½®nginxåå‘ä»£ç†
 &lt;a class="anchor" href="#%e9%85%8d%e7%bd%aenginx%e5%8f%8d%e5%90%91%e4%bb%a3%e7%90%86"&gt;#&lt;/a&gt;
&lt;/h4&gt;
&lt;p&gt;ä¸€ä¸ªæ¨èçš„nginxé…ç½®&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-nginx" data-lang="nginx"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;# ===================================================================
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;# å“ªå’ç›‘æ§ - åç«¯æœåŠ¡è¿æ¥æ± é…ç½®
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;# å®šä¹‰ä¸€ä¸ªåä¸º &amp;#34;dashboard&amp;#34; çš„åç«¯æœåŠ¡æ± ï¼Œç”¨äºè¿æ¥å¤ç”¨ï¼Œæé«˜æ€§èƒ½ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;# ===================================================================
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;&lt;/span&gt;&lt;span style="font-weight:bold;text-decoration:underline"&gt;upstream&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;dashboard&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;server&lt;/span&gt; 127.0.0.1:8008;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;keepalive&lt;/span&gt; 512;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;# ===================================================================
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;# HTTP (80) åˆ° HTTPS (443) çš„æ°¸ä¹…é‡å®šå‘
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;# è¿™æ˜¯æœ€ä½³å®‰å…¨å®è·µï¼Œç¡®ä¿æ‰€æœ‰ç”¨æˆ·éƒ½é€šè¿‡åŠ å¯†è¿æ¥è®¿é—®ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;# ===================================================================
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;&lt;/span&gt;&lt;span style="font-weight:bold;text-decoration:underline"&gt;server&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;listen&lt;/span&gt; 80;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;listen&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;[::]:80&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#888;font-style:italic"&gt;# &amp;lt;--- ä¿®æ”¹è¿™é‡Œ: å°† dashboard.example.com æ›¿æ¢ä¸ºä½ çš„çœŸå®åŸŸå
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;&lt;/span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;server_name&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;dashboard.example.com&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#888;font-style:italic"&gt;# å°†æ‰€æœ‰åˆ°æ¥çš„ HTTP è¯·æ±‚é€šè¿‡ 301 æ°¸ä¹…é‡å®šå‘åˆ°å¯¹åº”çš„ HTTPS åœ°å€
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;&lt;/span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;return&lt;/span&gt; 301 &lt;span style="color:#666;font-style:italic"&gt;https://&lt;/span&gt;&lt;span style="color:#666;font-weight:bold;font-style:italic"&gt;$host$request_uri&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;# ===================================================================
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;# HTTPS (443) ä¸»æœåŠ¡é…ç½®
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;# æ‰€æœ‰åŠ å¯†æµé‡çš„å…¥å£ï¼Œå¤„ç† Webã€WebSocket å’Œ gRPC è¯·æ±‚ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;# ===================================================================
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;&lt;/span&gt;&lt;span style="font-weight:bold;text-decoration:underline"&gt;server&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;listen&lt;/span&gt; 443 &lt;span style="color:#666;font-style:italic"&gt;ssl&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;http2&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;listen&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;[::]:443&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;ssl&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;http2&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#888;font-style:italic"&gt;# &amp;lt;--- ä¿®æ”¹è¿™é‡Œ: å°† dashboard.example.com æ›¿æ¢ä¸ºä½ çš„çœŸå®åŸŸå
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;&lt;/span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;server_name&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;dashboard.example.com&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#888;font-style:italic"&gt;# --- SSL è¯ä¹¦é…ç½® ---
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;&lt;/span&gt; &lt;span style="color:#888;font-style:italic"&gt;# &amp;lt;--- ä¿®æ”¹è¿™é‡Œ: æ›¿æ¢ä¸ºä½ çš„ SSL è¯ä¹¦å’Œç§é’¥çš„å®é™…è·¯å¾„
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;&lt;/span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;ssl_certificate&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;/etc/letsencrypt/live/dashboard.example.com/fullchain.pem&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;ssl_certificate_key&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;/etc/letsencrypt/live/dashboard.example.com/key.pem&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#888;font-style:italic"&gt;# --- SSL æ€§èƒ½ä¸å®‰å…¨ä¼˜åŒ– (é€šå¸¸æ— éœ€ä¿®æ”¹) ---
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;&lt;/span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;ssl_stapling&lt;/span&gt; &lt;span style="color:#666;font-weight:bold;font-style:italic"&gt;on&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;ssl_session_timeout&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;1d&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;ssl_session_cache&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;shared:SSL:10m&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;ssl_protocols&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;TLSv1.2&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;TLSv1.3&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#888;font-style:italic"&gt;# å…è®¸ Header ä¸­åŒ…å«ä¸‹åˆ’çº¿ï¼Œå…¼å®¹æŸäº›ç‰¹æ®Šæƒ…å†µ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;&lt;/span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;underscores_in_headers&lt;/span&gt; &lt;span style="color:#666;font-weight:bold;font-style:italic"&gt;on&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#888;font-style:italic"&gt;# --- è·å–çœŸå®è®¿å®¢ IP (Cloudflare CDN ä¸“ç”¨é…ç½®) ---
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;&lt;/span&gt; &lt;span style="color:#888;font-style:italic"&gt;# å› ä¸ºä½ ä½¿ç”¨äº† Cloudflareï¼Œæ‰€ä»¥ä¿ç•™è¿™ä¸¤è¡Œé…ç½®ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;&lt;/span&gt; &lt;span style="color:#888;font-style:italic"&gt;# å®ƒå‘Šè¯‰ Nginx è¦ä¿¡ä»»æ‰€æœ‰ IP å‘æ¥çš„è¯·æ±‚å¤´ï¼Œå¹¶ä» CF-Connecting-IP å¤´ä¸­è·å–çœŸå® IPã€‚
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;&lt;/span&gt; &lt;span style="color:#888;font-style:italic"&gt;# æ›´å®‰å…¨çš„åšæ³•æ˜¯ä»…ä¿¡ä»»æ¥è‡ª Cloudflare å®˜æ–¹ IP æ®µçš„è¯·æ±‚ï¼Œä½†å½“å‰é…ç½®å¯¹äºç»å¤§å¤šæ•°åœºæ™¯æ˜¯è¶³å¤Ÿä¸”æ–¹ä¾¿çš„ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;&lt;/span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;set_real_ip_from&lt;/span&gt; 0.0.0.0&lt;span style="color:#666;font-style:italic"&gt;/0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;real_ip_header&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;CF-Connecting-IP&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#888;font-style:italic"&gt;# --- gRPC è¯·æ±‚å¤„ç† (Agent æ ¸å¿ƒæ•°æ®ä¸ŠæŠ¥) ---
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;&lt;/span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;location&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;^~&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;/proto.NezhaService/&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;grpc_pass&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;grpc://dashboard&lt;/span&gt;; &lt;span style="color:#888;font-style:italic"&gt;# å°† gRPC è¯·æ±‚è½¬å‘ç»™åç«¯æœåŠ¡æ± 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#888;font-style:italic"&gt;# å°†çœŸå®è®¿å®¢ IP ä¼ é€’ç»™åç«¯ (ä½¿ç”¨ Cloudflare æä¾›çš„ Header)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;&lt;/span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;grpc_set_header&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;nz-realip&lt;/span&gt; &lt;span style="color:#666;font-weight:bold;font-style:italic"&gt;$http_CF_Connecting_IP&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#888;font-style:italic"&gt;# å…¶ä»– gRPC ç›¸å…³ä¼˜åŒ– (é€šå¸¸æ— éœ€ä¿®æ”¹)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;&lt;/span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;grpc_set_header&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;Host&lt;/span&gt; &lt;span style="color:#666;font-weight:bold;font-style:italic"&gt;$host&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;grpc_read_timeout&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;600s&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;grpc_send_timeout&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;600s&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;grpc_socket_keepalive&lt;/span&gt; &lt;span style="color:#666;font-weight:bold;font-style:italic"&gt;on&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;client_max_body_size&lt;/span&gt; 10m;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;grpc_buffer_size&lt;/span&gt; 4m;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#888;font-style:italic"&gt;# --- WebSocket è¯·æ±‚å¤„ç† (ç½‘é¡µç»ˆç«¯ã€æ–‡ä»¶ç®¡ç†ç­‰å®æ—¶åŠŸèƒ½) ---
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;&lt;/span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;location&lt;/span&gt; ~&lt;span style="color:#666;font-style:italic"&gt;*&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;^/api/v1/ws/(server|terminal|file)(.*)&lt;/span&gt;$ {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;proxy_pass&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;http://127.0.0.1:8008&lt;/span&gt;; &lt;span style="color:#888;font-style:italic"&gt;# ç›´æ¥è½¬å‘ç»™åç«¯çš„ 8008 ç«¯å£
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#888;font-style:italic"&gt;# --- WebSocket ä»£ç†å…³é”®é…ç½® ---
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;&lt;/span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;proxy_http_version&lt;/span&gt; 1&lt;span style="color:#666;font-style:italic"&gt;.1&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;proxy_set_header&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;Upgrade&lt;/span&gt; &lt;span style="color:#666;font-weight:bold;font-style:italic"&gt;$http_upgrade&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;proxy_set_header&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;Connection&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;&amp;#34;upgrade&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#888;font-style:italic"&gt;# å°†çœŸå®è®¿å®¢ IP ä¼ é€’ç»™åç«¯ (ä½¿ç”¨ Cloudflare æä¾›çš„ Header)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;&lt;/span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;proxy_set_header&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;nz-realip&lt;/span&gt; &lt;span style="color:#666;font-weight:bold;font-style:italic"&gt;$http_CF_Connecting_IP&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#888;font-style:italic"&gt;# å…¶ä»– Header å’Œè¶…æ—¶é…ç½® (é€šå¸¸æ— éœ€ä¿®æ”¹)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;&lt;/span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;proxy_set_header&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;Host&lt;/span&gt; &lt;span style="color:#666;font-weight:bold;font-style:italic"&gt;$host&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;proxy_set_header&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;Origin&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;https://&lt;/span&gt;&lt;span style="color:#666;font-weight:bold;font-style:italic"&gt;$host&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;proxy_read_timeout&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;3600s&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;proxy_send_timeout&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;3600s&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#888;font-style:italic"&gt;# --- Web é¡µé¢è¯·æ±‚å¤„ç† (å…œåº•è§„åˆ™) ---
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;&lt;/span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;location&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;/&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;proxy_pass&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;http://127.0.0.1:8008&lt;/span&gt;; &lt;span style="color:#888;font-style:italic"&gt;# è½¬å‘ç»™åç«¯çš„ 8008 ç«¯å£
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#888;font-style:italic"&gt;# å°†çœŸå®è®¿å®¢ IP ä¼ é€’ç»™åç«¯ (ä½¿ç”¨ Cloudflare æä¾›çš„ Header)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;&lt;/span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;proxy_set_header&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;nz-realip&lt;/span&gt; &lt;span style="color:#666;font-weight:bold;font-style:italic"&gt;$http_CF_Connecting_IP&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#888;font-style:italic"&gt;# å…¶ä»– Header å’Œè¶…æ—¶é…ç½® (é€šå¸¸æ— éœ€ä¿®æ”¹)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;&lt;/span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;proxy_set_header&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;Host&lt;/span&gt; &lt;span style="color:#666;font-weight:bold;font-style:italic"&gt;$host&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;proxy_read_timeout&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;3600s&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;proxy_send_timeout&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;3600s&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;proxy_buffer_size&lt;/span&gt; 128k;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;proxy_buffers&lt;/span&gt; 4 256k;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;proxy_busy_buffers_size&lt;/span&gt; 256k;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="font-weight:bold;text-decoration:underline"&gt;proxy_max_temp_file_size&lt;/span&gt; 0;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 class="heading" id="å“ªå’é¢æ¿è®¾ç½®"&gt;
 å“ªå’é¢æ¿è®¾ç½®
 &lt;a class="anchor" href="#%e5%93%aa%e5%90%92%e9%9d%a2%e6%9d%bf%e8%ae%be%e7%bd%ae"&gt;#&lt;/a&gt;
&lt;/h4&gt;
&lt;p&gt;åˆ°äº†è¿™ä¸€æ­¥ï¼Œæ­¤æ—¶å°±å¯ä»¥é€šè¿‡åŸŸåè®¿é—®é¢æ¿äº†ï¼Œå¹¶ä¸”å¹¶æ²¡æœ‰æš´éœ²å¤šä½™çš„ç«¯å£ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é¦–æ¬¡ç™»å½•ç”¨æˆ·ä¸å¯†ç å‡ä¸º&lt;code&gt;admin&lt;/code&gt;,ç¬¬ä¸€æ­¥å…ˆæ”¹ä¸ªé»˜è®¤å¯†ç å†è¯´ã€‚&lt;/li&gt;
&lt;li&gt;å› ä¸ºé¢æ¿å’Œ agent éƒ½å¼€å¯äº† CF CDNï¼Œæˆ‘ä»¬éœ€è¦åœ¨é¢æ¿ç³»ç»Ÿè®¾ç½®é‡Œé¢çš„çœŸå® IP è¯·æ±‚å¤´å¡«å†™&lt;code&gt;CF-Connecting-IP&lt;/code&gt;ï¼Œåå°çš„ç™»å½• IP ä»¥åŠå…¶å®ƒåœ°æ–¹æ‰èƒ½æ­£å¸¸æ˜¾ç¤ºçœŸå® IPã€‚












&lt;figure class=""&gt;

 &lt;div class="img-container" &gt;
 &lt;img loading="lazy" alt="" src="https://webp.050612.xyz/2025/07/20250720202751842.png" &gt;
 &lt;/div&gt;

 
&lt;/figure&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 class="heading" id="é¢æ¿å¼€å¯oauth2"&gt;
 é¢æ¿å¼€å¯OAuth2
 &lt;a class="anchor" href="#%e9%9d%a2%e6%9d%bf%e5%bc%80%e5%90%afoauth2"&gt;#&lt;/a&gt;
&lt;/h5&gt;
&lt;p&gt;å®˜æ–¹è¯´æ˜ï¼š&lt;a href="https://nezha.wiki/guide/q14.html#%E8%AE%BE%E7%BD%AE-oauth-2-0-%E7%BB%91%E5%AE%9A"&gt;è®¾ç½® OAuth 2.0 ç»‘å®š | å“ªå’æœåŠ¡å™¨ç›‘æ§&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘é€‰æ‹©ä½¿ç”¨ã€Œgithubã€&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ‰“å¼€Â &lt;a href="https://github.com/settings/developers"&gt;GitHubå¼€å‘è€…è®¾ç½®&lt;/a&gt;ï¼Œä¾æ¬¡é€‰æ‹© â€œOAuth Appsâ€ - â€œNew OAuth Appâ€ã€‚&lt;/li&gt;
&lt;li&gt;å¡«å†™ä»¥ä¸‹éœ€è¦çš„å­—æ®µï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Application name&lt;/code&gt;ï¼šåº”ç”¨å&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Homepage URL&lt;/code&gt;ï¼šé¢æ¿è®¿é—®åœ°å€ï¼Œä¾‹å¦‚Â &lt;code&gt;https://nezha.example.com&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Authorization callback URL&lt;/code&gt;Â é¢æ¿çš„ Callback åœ°å€ï¼Œè¿™é‡Œåªæ£€æµ‹å‰ç¼€ï¼Œæ‰€ä»¥å¯ä»¥å¡«å†™Â &lt;code&gt;https://nezha.example.com/api/v1/oauth2/callback&lt;/code&gt;ã€‚












&lt;figure class=""&gt;

 &lt;div class="img-container" &gt;
 &lt;img loading="lazy" alt="" src="https://webp.050612.xyz/2025/07/20250720203459271.png" &gt;
 &lt;/div&gt;

 
&lt;/figure&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start="3"&gt;
&lt;li&gt;åœ¨æ–°é¡µé¢ä¸­è®°å½• Client ID å’Œ Client secretsï¼Œå®Œæˆé¢æ¿ OAuth 2.0 é…ç½®ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-yaml" data-lang="yaml"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;oauth2:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; GitHub:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; client_id: &lt;span style="color:#666;font-style:italic"&gt;&amp;#34;a-unique-id&amp;#34;&lt;/span&gt; &lt;span style="color:#888;font-style:italic"&gt;# æ›¿æ¢ä½ çš„ Client ID&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; client_secret: &lt;span style="color:#666;font-style:italic"&gt;&amp;#34;a-unique-secret&amp;#34;&lt;/span&gt; &lt;span style="color:#888;font-style:italic"&gt;# æ›¿æ¢ä½ çš„ Client secrets&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; endpoint:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; auth_url: &lt;span style="color:#666;font-style:italic"&gt;&amp;#34;https://github.com/login/oauth/authorize&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; token_url: &lt;span style="color:#666;font-style:italic"&gt;&amp;#34;https://github.com/login/oauth/access_token&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; user_info_url: &lt;span style="color:#666;font-style:italic"&gt;&amp;#34;https://api.github.com/user&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; user_id_path: &lt;span style="color:#666;font-style:italic"&gt;&amp;#34;id&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start="4"&gt;
&lt;li&gt;å°†ä»¥ä¸Šé…ç½®æ·»åŠ åˆ°&lt;code&gt;/opt/nezha/dashboard/data/config.yaml&lt;/code&gt;é¢æ¿ï¼ˆDashboardï¼‰ é…ç½®&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo vim /opt/nezha/dashboard/data/config.yaml
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start="5"&gt;
&lt;li&gt;é‡å¯é¢æ¿ä½¿æ–°é…ç½®ç”Ÿæ•ˆ&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;./nezha.sh 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start="6"&gt;
&lt;li&gt;æ‰“å¼€ä¸ªäººä¿¡æ¯è®¾ç½®ç»‘å®šgithubï¼Œå¹¶å…³é—­å¯†ç ç™»å½•












&lt;figure class=""&gt;

 &lt;div class="img-container" &gt;
 &lt;img loading="lazy" alt="" src="https://webp.050612.xyz/2025/07/20250720204140554.png" &gt;
 &lt;/div&gt;

 
&lt;/figure&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 class="heading" id="å®‰è£…æ¢é’ˆagentç«¯ç›‘æ§ç«¯"&gt;
 å®‰è£…æ¢é’ˆï¼ˆagentç«¯ã€ç›‘æ§ç«¯ï¼‰
 &lt;a class="anchor" href="#%e5%ae%89%e8%a3%85%e6%8e%a2%e9%92%88agent%e7%ab%af%e7%9b%91%e6%8e%a7%e7%ab%af"&gt;#&lt;/a&gt;
&lt;/h4&gt;
&lt;p&gt;å®˜æ–¹æ•™ç¨‹ï¼š&lt;a href="https://nezha.wiki/guide/agent.html"&gt;å®‰è£… Agent | å“ªå’æœåŠ¡å™¨ç›‘æ§&lt;/a&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨Â &lt;code&gt;æœåŠ¡å™¨&lt;/code&gt;Â é¡µé¢ä¸­ï¼Œç‚¹å‡»Â &lt;code&gt;å®‰è£…å‘½ä»¤&lt;/code&gt;Â å¹¶é€‰æ‹©å¯¹åº”æ“ä½œç³»ç»Ÿï¼Œå®‰è£…å‘½ä»¤å°†è‡ªåŠ¨å¤åˆ¶åˆ°ä½ çš„å‰ªè´´æ¿ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨è¢«æ§ç«¯æœåŠ¡å™¨ä¸­è¿è¡Œå®‰è£…å‘½ä»¤ï¼Œç­‰å¾…å®‰è£…å®Œæˆåè¿”å›åˆ°Â &lt;code&gt;æœåŠ¡å™¨&lt;/code&gt;Â é¡µé¢æŸ¥çœ‹æ˜¯å¦ä¸Šçº¿ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;p&gt;åœ¨é¢æ¿æ˜¾ç¤º&lt;code&gt;æš´åŠ›æ”»å‡»ä»£ç†ç§˜å¯†&lt;/code&gt; ä¸ &lt;code&gt;gRPC è®¤è¯å¤±è´¥&lt;/code&gt;ï¼Œä½†æ˜¯åˆèƒ½æ­£å¸¸ç›‘æ§ï¼Œè¿˜ä»¥ä¸ºå‘ç°äº†bugï¼Œä½†æ˜¯æœ€åå‘ç°æ˜¯å› ä¸ºæˆ‘å¤šæ¬¡å®‰è£…agentå¯¼è‡´å‡ºç°äº†ä¸€äº›åƒµå°¸è¿›ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨&lt;code&gt;ps -ef | grep nezha-agent&lt;/code&gt; æŸ¥çœ‹ï¼Œå¹¶ä½¿ç”¨ &lt;code&gt;sudo kill&lt;/code&gt; æ€æ‰åƒµå°¸è¿›ç¨‹å°±æ²¡æœ‰äº†ã€‚&lt;/p&gt;
&lt;p&gt;











&lt;figure class=""&gt;

 &lt;div class="img-container" &gt;
 &lt;img loading="lazy" alt="" src="https://webp.050612.xyz/2025/07/20250720212944889.png" &gt;
 &lt;/div&gt;

 
&lt;/figure&gt;
&lt;/p&gt;
&lt;h5 class="heading" id="å®‰å…¨è®¾ç½®-å…³é—­æ¢é’ˆè¿œç¨‹æ§åˆ¶åŠŸèƒ½"&gt;
 å®‰å…¨è®¾ç½®ï¼š å…³é—­æ¢é’ˆè¿œç¨‹æ§åˆ¶åŠŸèƒ½
 &lt;a class="anchor" href="#%e5%ae%89%e5%85%a8%e8%ae%be%e7%bd%ae-%e5%85%b3%e9%97%ad%e6%8e%a2%e9%92%88%e8%bf%9c%e7%a8%8b%e6%8e%a7%e5%88%b6%e5%8a%9f%e8%83%bd"&gt;#&lt;/a&gt;
&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;æ‰“å¼€&lt;code&gt;/opt/nezha/agent/config.yml&lt;/code&gt;ï¼ŒæŠŠ &lt;code&gt;disable_command_execute&lt;/code&gt;æ”¹æˆtrue&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo vim /opt/nezha/agent/config.yml
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;é‡å¯agentæœåŠ¡&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo systemctl restart nezha-agent
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 class="heading" id="æ·»åŠ å¤‡æ³¨"&gt;
 æ·»åŠ å¤‡æ³¨
 &lt;a class="anchor" href="#%e6%b7%bb%e5%8a%a0%e5%a4%87%e6%b3%a8"&gt;#&lt;/a&gt;
&lt;/h5&gt;
&lt;p&gt;&lt;a href="https://nezhainfojson.pages.dev"&gt;å…¬å¼€å¤‡æ³¨ç”Ÿæˆå™¨&lt;/a&gt;&lt;/p&gt;
&lt;h5 class="heading" id="å¸è½½agentç«¯"&gt;
 å¸è½½agentç«¯
 &lt;a class="anchor" href="#%e5%8d%b8%e8%bd%bdagent%e7%ab%af"&gt;#&lt;/a&gt;
&lt;/h5&gt;
&lt;ol&gt;
&lt;li&gt;åœæ­¢ Agent æœåŠ¡&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;code&gt;sudo systemctl stop nezha-agent&lt;/code&gt;&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;ç¦ç”¨å¼€æœºè‡ªå¯&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;é˜²æ­¢æœåŠ¡åœ¨ç³»ç»Ÿå¯åŠ¨æ—¶è‡ªåŠ¨è¿è¡Œã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;sudo systemctl disable nezha-agent&lt;/code&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;åˆ é™¤æœåŠ¡æ–‡ä»¶&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç§»é™¤Â &lt;code&gt;nezha-agent&lt;/code&gt;Â çš„æœåŠ¡é…ç½®æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;sudo rm /etc/systemd/system/nezha-agent.service&lt;/code&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;åˆ é™¤ Agent æ–‡ä»¶&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;åˆ é™¤å®‰è£…ç›®å½•ä¸­çš„ Agent æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;sudo rm -rf /opt/nezha/agent&lt;/code&gt;&lt;/p&gt;
&lt;ol start="5"&gt;
&lt;li&gt;é‡æ–°åŠ è½½ systemd é…ç½®&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç¡®ä¿ç³»ç»ŸæœåŠ¡ç®¡ç†å™¨åŠ è½½æœ€æ–°çš„é…ç½®ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;sudo systemctl daemon-reload&lt;/code&gt;&lt;/p&gt;
&lt;ol start="6"&gt;
&lt;li&gt;æ£€æŸ¥æ®‹ç•™è¿›ç¨‹
ç¡®è®¤æ²¡æœ‰é—ç•™çš„Â &lt;code&gt;nezha-agent&lt;/code&gt;Â è¿›ç¨‹åœ¨è¿è¡Œã€‚å¦‚æœå‘ç°ä»æœ‰ç›¸å…³è¿›ç¨‹è¿è¡Œï¼Œè¯·ä½¿ç”¨Â &lt;code&gt;sudo kill&lt;/code&gt;Â å‘½ä»¤ç»ˆæ­¢ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;code&gt;ps -ef | grep nezha-agent&lt;/code&gt;&lt;/p&gt;
&lt;ol start="7"&gt;
&lt;li&gt;åˆ é™¤æ—¥å¿—æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å¦‚æœéœ€è¦ï¼Œæ‚¨å¯ä»¥åˆ é™¤ä¸Â &lt;code&gt;nezha-agent&lt;/code&gt;Â ç›¸å…³çš„æ—¥å¿—æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;sudo rm -rf /var/log/nezha&lt;/code&gt;&lt;/p&gt;
&lt;h2 class="heading" id="å…³é—­-ipv6--å¼€å¯bbr"&gt;
 å…³é—­ ipv6 &amp;amp; å¼€å¯bbr
 &lt;a class="anchor" href="#%e5%85%b3%e9%97%ad-ipv6--%e5%bc%80%e5%90%afbbr"&gt;#&lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;æˆ‘çš„ç½‘ç»œç¯å¢ƒä¸ºæ ¡å›­ç½‘ï¼Œå¯¹ipv6çš„æ”¯æŒå¹¶ä¸å¥½ï¼›&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="font-weight:bold;font-style:italic"&gt;echo&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;&amp;#34;net.core.default_qdisc=fq&amp;#34;&lt;/span&gt; &amp;gt;&amp;gt; /etc/sysctl.conf
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="font-weight:bold;font-style:italic"&gt;echo&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;&amp;#34;net.ipv4.tcp_congestion_control=bbr&amp;#34;&lt;/span&gt; &amp;gt;&amp;gt; /etc/sysctl.conf
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sysctl -p
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;lsmod | grep bbr &lt;span style="color:#888;font-style:italic"&gt;# æŸ¥çœ‹æ˜¯å¦æˆåŠŸå¼€å¯BBR&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;# 1. å°†é…ç½®æ·»åŠ åˆ° /etc/sysctl.conf (ä½¿ç”¨ tee -a ç¡®ä¿å®‰å…¨è¿½åŠ )&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="font-weight:bold;font-style:italic"&gt;echo&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;&amp;#34;net.ipv6.conf.all.disable_ipv6 = 1&amp;#34;&lt;/span&gt; | sudo tee -a /etc/sysctl.conf
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="font-weight:bold;font-style:italic"&gt;echo&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;&amp;#34;net.ipv6.conf.default.disable_ipv6 = 1&amp;#34;&lt;/span&gt; | sudo tee -a /etc/sysctl.conf
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="font-weight:bold;font-style:italic"&gt;echo&lt;/span&gt; &lt;span style="color:#666;font-style:italic"&gt;&amp;#34;net.ipv6.conf.lo.disable_ipv6 = 1&amp;#34;&lt;/span&gt; | sudo tee -a /etc/sysctl.conf
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;# 2. ä½¿é…ç½®ç«‹å³ç”Ÿæ•ˆ (å¹¶åŠ è½½æ‰€æœ‰ /etc/sysctl.conf ä¸­çš„é…ç½®)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo sysctl -p
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;# 3. (å¯é€‰) é‡å¯ç³»ç»Ÿä»¥ç¡®ä¿æ‰€æœ‰æœåŠ¡éƒ½ä»¥æ–°é…ç½®å¯åŠ¨&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#888;font-style:italic"&gt;# sudo reboot&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description></item><item><title>è®ºåœ¨ç½‘å§ç™»å½• Steam çš„æ­£ç¡®å§¿åŠ¿</title><link>https://blog.yzyy.de/post/%E8%AE%BA%E5%9C%A8%E7%BD%91%E5%90%A7%E7%99%BB%E5%BD%95-steam-%E7%9A%84%E6%AD%A3%E7%A1%AE%E5%A7%BF%E5%8A%BF/</link><pubDate>Wed, 06 Mar 2024 00:00:00 +0000</pubDate><guid>https://blog.yzyy.de/post/%E8%AE%BA%E5%9C%A8%E7%BD%91%E5%90%A7%E7%99%BB%E5%BD%95-steam-%E7%9A%84%E6%AD%A3%E7%A1%AE%E5%A7%BF%E5%8A%BF/</guid><description>&lt;p&gt;è¯´åˆ°åœ¨ç½‘å§ç™»å½• Steam çš„æ­£ç¡®å§¿åŠ¿ï¼Œé‚£å°±æ˜¯ä¸è¦åœ¨ç½‘å§å°è¯•ä»¥ä»»ä½•æ–¹å¼ç™»å½• Steamã€‚ä¸æ˜¯æˆ‘æäººå¿§å¤©ï¼Œå®åœ¨æ˜¯è¡€æ·‹æ·‹çš„æ•™è®­å¤ªå¤šäº†ï¼Œè¯·çœ‹ï¼š












&lt;figure class=""&gt;

 &lt;div class="img-container" &gt;
 &lt;img loading="lazy" alt="IMG_7817" src="https://webp.050612.xyz/2025/07/IMG_7817.jpeg" &gt;
 &lt;/div&gt;

 
&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;è¿™äº›æ¡ˆä¾‹ä¸­æ—¢æœ‰ä½¿ç”¨è´¦å·å¯†ç ç™»å½•çš„ï¼Œä¹Ÿæœ‰ä½¿ç”¨æ‰‹æœºä»¤ç‰Œæ‰«ç ç™»å½•çš„ã€‚&lt;/p&gt;
&lt;p&gt;æ˜¯çš„ğŸ¤—ï¼Œåªè¦ä½ æœ‰åº“å­˜ï¼Œç¬¬äºŒå¤© Steam éƒ½å¯èƒ½ä¼šç»™ä½ ä¸€ä¸ª &amp;ldquo;æƒŠå–œ&amp;rdquo; å‘é’±ï¼ä½†è¿™å¯ä¸æ˜¯ Steam å¤§å‘æ…ˆæ‚²ï¼Œè€Œæ˜¯åœ¨é€šçŸ¥ä½ ï¼šå…„å¼Ÿï¼Œä½ çš„å·è¢«ç›—äº†â€¦ğŸ˜®












&lt;figure class=""&gt;

 &lt;div class="img-container" &gt;
 &lt;img loading="lazy" alt="IMG_7823" src="https://webp.050612.xyz/2025/07/IMG_7823.png" &gt;
 &lt;/div&gt;

 
&lt;/figure&gt;













&lt;figure class=""&gt;

 &lt;div class="img-container" &gt;
 &lt;img loading="lazy" alt="IMG_7822" src="https://webp.050612.xyz/2025/07/IMG_7822.png" &gt;
 &lt;/div&gt;

 
&lt;/figure&gt;
&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;ä»€ä¹ˆæ ·çš„è´¦å·æœ€å®¹æ˜“è¢«ç›—ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¸€èˆ¬æ¥è¯´ï¼Œç›—å·è´¼çš„ç›®çš„æ˜¯ä¸ºäº†ç›—åº“å­˜ã€ç½‘æ¸¸å¼€æŒ‚ã€‚&lt;br&gt;
å¦‚æœå·ä¸­æœ‰ä»¥ä¸‹å› ç´ ä¼šå¢åŠ è¢«ç›—é£é™©ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;CSGOã€è¶´ä¸å¯„ã€æ°¸åŠ«ç­‰ä¸€äº›ç½‘æ¸¸&lt;/li&gt;
&lt;li&gt;é«˜ä»·å€¼åº“å­˜&lt;/li&gt;
&lt;li&gt;é›†æ¢å¼å¡ç‰Œã€é—ªå¡ç­‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¿—è¯è¯´ï¼Œå…‰è„šçš„ä¸æ€•ç©¿é‹çš„ï¼Œåƒæˆ‘çš„ Steam å·åº“å­˜ä¸€è´«å¦‚æ´—ğŸ¤¦â€â™‚ï¸ï¼Œåè€Œå¯ä»¥åœ¨ç½‘å§ä¸ºæ‰€æ¬²ä¸ºâ€¦&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;â€œä½†æˆ‘å°±æ˜¯æƒ³åœ¨ç½‘å§ç©å•Šï¼Œå’‹æ•´ï¼Ÿâ€&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å‡¡äº‹æ²¡æœ‰ç»å¯¹ã€‚&lt;/p&gt;
&lt;p&gt;å‡å¦‚ä½ ä¹Ÿåƒä¸Šä½ä½¬å‹ä¸€æ ·ï¼Œå®¶é‡Œç”µè„‘é…ç½®ä¸å¤Ÿï¼Œä¸èƒ½çˆ½å®Œä¸€äº› 3Aï¼Œæˆ–è€…å’Œä»¥å‰çš„è€åŒå­¦ä¸´æ—¶èµ·æ„ç›¸çº¦ç½‘å§å¼€é»‘ï¼Œåœ¨è¿™é‡Œåˆ†äº«ä¸€ä¸ªç›¸å¯¹æ¥è¯´ä¿é™©çš„æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;é‚£å°±æ˜¯ Steam å®¶åº­å…±äº«å¤§æ³•ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åˆ›å»ºä¸ªç©ºç™½å°å·ï¼ˆå°±å½“ç»™è‡ªå·±å…»äº†ä¸ª Steam äºŒèƒï¼‰&lt;/li&gt;
&lt;li&gt;æŠŠå°å·ä»¥å„¿ç«¥èº«ä»½åŠ å…¥å¤§å·çš„å®¶åº­ç»„ï¼ˆè®¤ä¸ªå¹²å„¿å­ï¼‰&lt;/li&gt;
&lt;li&gt;å¹³æ—¶æŠŠå°å·æ¸¸ç©æƒé™å…¨å…³ï¼ˆè®©ç†Šå­©å­è€å®ç‚¹ï¼‰&lt;/li&gt;
&lt;li&gt;ç½‘å§åªç™»å½•å°å·ï¼Œæ‰“å®Œäº†åŠæ—¶é”å®šå°å·ï¼ˆè®©ç†Šå­©å­å»å†’é™©ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¿™æ ·æœ‰ä¸¤ä¸ªå¥½å¤„ï¼Œä¸€æ˜¯å¤§éƒ¨åˆ† 3A éƒ½æ”¯æŒå®¶åº­å…±äº«ï¼ŒäºŒæ˜¯å°å·æ‹¿æ¥ç©ä¸€äº›å…è´¹ç½‘æ¸¸ä¹Ÿå¯ä»¥ã€‚&lt;/p&gt;
&lt;p&gt;å”¯ä¸€çš„é£é™©å°±æ˜¯ï¼ŒçœŸæœ‰äººä¸é•¿çœ¼åœ°æŠŠä½ å°å·ä¹Ÿç»™ç›—äº†ï¼Œç©ç½‘æ¸¸å¼€æŒ‚ä¼šå¯¼è‡´å¤§å·ä¸€èµ·è¿åå°ç¦ã€‚ğŸ™„&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;â€œæˆ‘å°±éè¦ç™»å½•å’‹åŠï¼Ÿâ€&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœå‡è®¾ä½ é€‰æ‹©äº†ä¸€å®¶å£ç¢‘è‰¯å¥½ã€è¿é”å“ç‰Œçš„é«˜ç«¯ç½‘å’–ï¼Œå¹¶ä¸”åšå®šåœ°é€‰æ‹©ç›¸ä¿¡ä»–ï¼Œé‚£ä¹ˆä¹Ÿéœ€è¦æ³¨æ„ï¼Œåšåˆ°è¿™äº›ä¼šæ›´åŠ ä¿é™©ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœä½ çš„ç”µè„‘æ˜¯å¼€ç€çš„ï¼Œé‚£ä¹ˆä¸€å®šè¦é‡å¯ç”µè„‘ï¼Œè§¦å‘ç½‘å§çš„æ¢å¤ç¨‹åºï¼Œé˜²æ­¢ä¸Šä¸€ä½ ä¸‹æ¯’ï¼›&lt;/li&gt;
&lt;li&gt;é‡æ–°å®˜ç½‘ä¸‹è½½ Steam å®¢æˆ·ç«¯ï¼Œä¸è¦ç”¨ç½‘å§é¢„è£…å¥½çš„ Steamï¼›&lt;/li&gt;
&lt;li&gt;ç»‘å®šæ‰‹æœºä»¤ç‰Œä¸”é€šè¿‡æ‰‹æœºä»¤ç‰Œæ‰«ç ç™»é™†ï¼Œä¸è¦æ‰‹åŠ¨è¾“å…¥å¸å·å¯†ç ï¼›&lt;/li&gt;
&lt;li&gt;ç™»é™†åé€‰æ‹©ä¸æŠŠç™»é™†å‡­è¯ä¿å­˜åˆ°æœ¬åœ°è®¡ç®—æœºï¼›&lt;/li&gt;
&lt;li&gt;ä¸‹æœºå‰ä¸»åŠ¨ç™»å‡º Steamï¼Œå¹¶ç¡®è®¤ä¸èƒ½å…å‡­è¯ç™»é™†ï¼›&lt;/li&gt;
&lt;li&gt;æ‰‹æœºä»¤ç‰Œåœ¨å·²æˆæƒå‡­è¯ä¸­æ¸…é™¤åœ¨ç½‘å§çš„ç™»é™†å‡­è¯ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;ä¸‡ä¸€çœŸè¢«ç›—äº†ä½ åˆä¸æ„¿æ„å’‹åŠï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æœ€åå†è¯´è¯´åœ¨ä½ åŠæ—¶å‘ç°äº† steam ç»™ä½ å‘é’±çš„æ—¶å€™ï¼ˆè¢«ç›—çš„æ—¶å€™ï¼‰ï¼Œè¡¥æ•‘æªæ–½ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è½¬è½½å°é»‘ç›’












&lt;figure class=""&gt;

 &lt;div class="img-container" &gt;
 &lt;img loading="lazy" alt="IMG_7824" src="https://webp.050612.xyz/2025/07/IMG_7824.jpeg" &gt;
 &lt;/div&gt;

 
&lt;/figure&gt;













&lt;figure class=""&gt;

 &lt;div class="img-container" &gt;
 &lt;img loading="lazy" alt="IMG_7825" src="https://webp.050612.xyz/2025/07/IMG_7825.jpeg" &gt;
 &lt;/div&gt;

 
&lt;/figure&gt;













&lt;figure class=""&gt;

 &lt;div class="img-container" &gt;
 &lt;img loading="lazy" alt="IMG_7826" src="https://webp.050612.xyz/2025/07/IMG_7826.jpeg" &gt;
 &lt;/div&gt;

 
&lt;/figure&gt;













&lt;figure class=""&gt;

 &lt;div class="img-container" &gt;
 &lt;img loading="lazy" alt="IMG_7827" src="https://webp.050612.xyz/2025/07/IMG_7827.jpeg" &gt;
 &lt;/div&gt;

 
&lt;/figure&gt;
&lt;/p&gt;&lt;/blockquote&gt;</description></item></channel></rss>